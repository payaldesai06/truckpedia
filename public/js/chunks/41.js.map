{"version":3,"sources":["webpack:///resources/js/src/components/email/EmailPopup.vue","webpack:///./resources/js/src/components/email/EmailPopup.vue","webpack:///./resources/js/src/components/email/EmailPopup.vue?5be3","webpack:///./resources/js/src/components/email/EmailPopup.vue?2588","webpack:///./resources/js/src/components/email/EmailPopup.vue?6565","webpack:///./resources/js/src/components/email/EmailPopup.vue?dad5","webpack:///./resources/js/src/components/email/EmailPopup.vue?5e83","webpack:///./resources/js/src/components/email/EmailPopup.vue?abeb"],"names":["render","_vm","_c","_self","attrs","title","active","isActive","on","$event","staticClass","_v","input","onEmailInput","model","value","emailTo","callback","$$v","expression","slot","emailCC","emailBCC","fromName","replyTo","subject","editorToolbar","customToolbar","content","click","sendEmail","staticRenderFns","_withStripped"],"mappings":"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","file":"js/chunks/41.js","sourcesContent":["<template>\r\n  <div>\r\n    <vs-popup title=\"\" :active.sync=\"isActive\">\r\n      <!-- Content for the popup -->\r\n      <template>\r\n        <div>\r\n          <template>\r\n            <div>\r\n              <div class=\"email-config\">\r\n                <div class=\"mt-4 my-3\">\r\n                  <label>To</label>\r\n                  <p class=\"small text-xs\">\r\n                    Separate multiple emails with commas\r\n                  </p>\r\n                  <vs-input\r\n                    v-model=\"emailTo\"\r\n                    class=\"w-full\"\r\n                    @input=\"onEmailInput('emailTo')\"\r\n                  />\r\n                  <div>\r\n                    <vs-collapse>\r\n                      <vs-collapse-item class=\"p-0\">\r\n                        <div slot=\"header\" class=\"p-0 m-0\">\r\n                          <span class=\"text-sm\">Show more options</span>\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label class=\"my-4\">Cc</label>\r\n                          <p class=\"small text-xs\">\r\n                            Separate multiple emails with commas\r\n                          </p>\r\n                          <vs-input\r\n                            v-model=\"emailCC\"\r\n                            class=\"w-full\"\r\n                            @input=\"onEmailInput('emailCC')\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label class=\"my-4\">Bcc</label>\r\n                          <p class=\"small text-xs\">\r\n                            Separate multiple emails with commas\r\n                          </p>\r\n                          <vs-input\r\n                            v-model=\"emailBCC\"\r\n                            class=\"w-full\"\r\n                            @input=\"onEmailInput('emailBCC')\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label class=\"my-4\">From name</label>\r\n                          <div>\r\n                            <vs-input v-model=\"fromName\" class=\"w-full\" />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"mt-3\">\r\n                          <label class=\"my-4\">Reply to</label>\r\n                          <div>\r\n                            <vs-input v-model=\"replyTo\" class=\"w-full\" />\r\n                          </div>\r\n                        </div>\r\n                      </vs-collapse-item>\r\n                    </vs-collapse>\r\n                    <div class=\"mt-3\">\r\n                      <label class=\"my-4\">Subject</label>\r\n                      <vs-input class=\"w-full\" v-model=\"subject\" />\r\n                    </div>\r\n                    <div class=\"mt-3\">\r\n                      <label class=\"my-4\">Content</label>\r\n                      <vue-editor\r\n                        v-model=\"content\"\r\n                        :editorToolbar=\"customToolbar\"\r\n                      ></vue-editor>\r\n                    </div>\r\n                    <div class=\"mt-3\">\r\n                      <p>\r\n                        <strong>Note:</strong> Selected files will be included\r\n                        in the email as attachments.\r\n                      </p>\r\n                    </div>\r\n                    <vs-button class=\"mt-4\" @click=\"sendEmail()\"\r\n                      >Send Email</vs-button\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </template>\r\n    </vs-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { VueEditor } from 'vue2-editor';\r\nimport { validateEmail } from '../../helpers/helper';\r\nexport default {\r\n  name: 'EmailPopup',\r\n  components: {\r\n    VueEditor,\r\n  },\r\n  props: {\r\n    selectedDocs: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      },\r\n    },\r\n    isPopupActive: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isOpenSendEmailPopup: false,\r\n      cc: [],\r\n      bcc: [],\r\n      emailTo: '',\r\n      emailCC: '',\r\n      emailBCC: '',\r\n      fromName: '',\r\n      replyTo: '',\r\n      subject: '',\r\n      notes: '',\r\n      content: '',\r\n      customToolbar: [\r\n        [{ font: [] }],\r\n        [{ header: [false, 1, 2, 3, 4, 5, 6] }],\r\n        ['bold', 'italic', 'underline'],\r\n        [{ list: 'ordered' }, { list: 'bullet' }],\r\n        [{ color: [] }, { background: [] }],\r\n        ['link'],\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.setAvailableData();\r\n  },\r\n  computed: {\r\n    isActive: {\r\n      get() {\r\n        return this.isPopupActive;\r\n      },\r\n      set(val) {\r\n        if (!val) {\r\n          this.closePopup();\r\n          this.clearForm();\r\n        }\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    setAvailableData() {\r\n      this.replyTo = this.user.admin_company_details.email;\r\n      this.fromName = this.user.admin_company_details.business_name;\r\n    },\r\n    async validateMultipleEmails(emails, emailMsg) {\r\n      if (emails) {\r\n        for (const item of emails.split(',')) {\r\n          const validte = await validateEmail(item);\r\n          if (!validte) {\r\n            this.$vs.notify({\r\n              color: 'danger',\r\n              title: 'Error',\r\n              text: `You have entered an invalid ${emailMsg} email address!`,\r\n            });\r\n            return true;\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    async sendEmail() {\r\n      if (this.emailTo === '' || this.subject === '') {\r\n        this.$vs.notify({\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: 'Email and Subject are required fields.',\r\n        });\r\n        return;\r\n      }\r\n      if (await this.validateMultipleEmails(this.emailCC, 'CC')) return;\r\n      if (await this.validateMultipleEmails(this.replyTo, 'Reply to')) return;\r\n      if (await this.validateMultipleEmails(this.emailBCC, 'Bcc')) return;\r\n      if (await this.validateMultipleEmails(this.emailTo, 'To')) return;\r\n      const payload = {\r\n        email: {\r\n          fromName: this.fromName || '',\r\n          replyTo: this.replyTo || '',\r\n          to:\r\n            (this.emailTo &&\r\n              this.emailTo.split(',').map((email) => email.trim())) ||\r\n            undefined,\r\n          cc:\r\n            (this.emailCC &&\r\n              this.emailCC.split(',').map((email) => email.trim())) ||\r\n            undefined,\r\n          bcc:\r\n            (this.emailBCC &&\r\n              this.emailBCC.split(',').map((email) => email.trim())) ||\r\n            undefined,\r\n          subject: this.subject,\r\n          content: this.content,\r\n          attachments: this.selectedDocs.map(({ fileName, url }) => {\r\n            return {\r\n              filename: fileName,\r\n              url,\r\n            };\r\n          }),\r\n        },\r\n      };\r\n      try {\r\n        const response = await this.$store.dispatch('email/sendEmail', payload);\r\n        if (response && response.data) {\r\n          this.$vs.notify({\r\n            color: 'primary',\r\n            title: 'Email Sent',\r\n            text: 'Your email has been sent successfully.',\r\n          });\r\n        } else {\r\n          this.$vs.notify({\r\n            color: 'danger',\r\n            title: 'Error',\r\n            text: 'Invalid response from the server.',\r\n          });\r\n        }\r\n      } catch (error) {\r\n        this.$vs.notify({\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: error.response.data.message || error.message,\r\n        });\r\n      }\r\n      this.clearForm();\r\n      this.closePopup();\r\n    },\r\n    clearForm() {\r\n      this.emailTo = '';\r\n      this.emailCC = '';\r\n      this.emailBCC = '';\r\n      this.subject = '';\r\n      this.content = '';\r\n      this.notes = '';\r\n    },\r\n    isOpenPopup() {\r\n      this.isOpenSendEmailPopup = true;\r\n    },\r\n    closePopup() {\r\n      this.$emit('closePopup');\r\n    },\r\n    onEmailInput(field) {\r\n      if (this[field]) {\r\n        // Remove spaces\r\n        this[field] = this[field].replace(/\\s/g, '');\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.customNotes .ql-toolbar.ql-snow {\r\n  display: none;\r\n}\r\n.customNotes #quill-container {\r\n  border-top: 1px solid #ccc;\r\n}\r\n</style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"vs-popup\",\n        {\n          attrs: { title: \"\", active: _vm.isActive },\n          on: {\n            \"update:active\": function ($event) {\n              _vm.isActive = $event\n            },\n          },\n        },\n        [\n          [\n            _c(\n              \"div\",\n              [\n                [\n                  _c(\"div\", [\n                    _c(\"div\", { staticClass: \"email-config\" }, [\n                      _c(\n                        \"div\",\n                        { staticClass: \"mt-4 my-3\" },\n                        [\n                          _c(\"label\", [_vm._v(\"To\")]),\n                          _vm._v(\" \"),\n                          _c(\"p\", { staticClass: \"small text-xs\" }, [\n                            _vm._v(\n                              \"\\n                  Separate multiple emails with commas\\n                \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"vs-input\", {\n                            staticClass: \"w-full\",\n                            on: {\n                              input: function ($event) {\n                                return _vm.onEmailInput(\"emailTo\")\n                              },\n                            },\n                            model: {\n                              value: _vm.emailTo,\n                              callback: function ($$v) {\n                                _vm.emailTo = $$v\n                              },\n                              expression: \"emailTo\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            [\n                              _c(\n                                \"vs-collapse\",\n                                [\n                                  _c(\n                                    \"vs-collapse-item\",\n                                    { staticClass: \"p-0\" },\n                                    [\n                                      _c(\n                                        \"div\",\n                                        {\n                                          staticClass: \"p-0 m-0\",\n                                          attrs: { slot: \"header\" },\n                                          slot: \"header\",\n                                        },\n                                        [\n                                          _c(\n                                            \"span\",\n                                            { staticClass: \"text-sm\" },\n                                            [_vm._v(\"Show more options\")]\n                                          ),\n                                        ]\n                                      ),\n                                      _vm._v(\" \"),\n                                      _c(\n                                        \"div\",\n                                        { staticClass: \"mt-3\" },\n                                        [\n                                          _c(\"label\", { staticClass: \"my-4\" }, [\n                                            _vm._v(\"Cc\"),\n                                          ]),\n                                          _vm._v(\" \"),\n                                          _c(\n                                            \"p\",\n                                            { staticClass: \"small text-xs\" },\n                                            [\n                                              _vm._v(\n                                                \"\\n                          Separate multiple emails with commas\\n                        \"\n                                              ),\n                                            ]\n                                          ),\n                                          _vm._v(\" \"),\n                                          _c(\"vs-input\", {\n                                            staticClass: \"w-full\",\n                                            on: {\n                                              input: function ($event) {\n                                                return _vm.onEmailInput(\n                                                  \"emailCC\"\n                                                )\n                                              },\n                                            },\n                                            model: {\n                                              value: _vm.emailCC,\n                                              callback: function ($$v) {\n                                                _vm.emailCC = $$v\n                                              },\n                                              expression: \"emailCC\",\n                                            },\n                                          }),\n                                        ],\n                                        1\n                                      ),\n                                      _vm._v(\" \"),\n                                      _c(\n                                        \"div\",\n                                        { staticClass: \"mt-3\" },\n                                        [\n                                          _c(\"label\", { staticClass: \"my-4\" }, [\n                                            _vm._v(\"Bcc\"),\n                                          ]),\n                                          _vm._v(\" \"),\n                                          _c(\n                                            \"p\",\n                                            { staticClass: \"small text-xs\" },\n                                            [\n                                              _vm._v(\n                                                \"\\n                          Separate multiple emails with commas\\n                        \"\n                                              ),\n                                            ]\n                                          ),\n                                          _vm._v(\" \"),\n                                          _c(\"vs-input\", {\n                                            staticClass: \"w-full\",\n                                            on: {\n                                              input: function ($event) {\n                                                return _vm.onEmailInput(\n                                                  \"emailBCC\"\n                                                )\n                                              },\n                                            },\n                                            model: {\n                                              value: _vm.emailBCC,\n                                              callback: function ($$v) {\n                                                _vm.emailBCC = $$v\n                                              },\n                                              expression: \"emailBCC\",\n                                            },\n                                          }),\n                                        ],\n                                        1\n                                      ),\n                                      _vm._v(\" \"),\n                                      _c(\"div\", { staticClass: \"mt-3\" }, [\n                                        _c(\"label\", { staticClass: \"my-4\" }, [\n                                          _vm._v(\"From name\"),\n                                        ]),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          [\n                                            _c(\"vs-input\", {\n                                              staticClass: \"w-full\",\n                                              model: {\n                                                value: _vm.fromName,\n                                                callback: function ($$v) {\n                                                  _vm.fromName = $$v\n                                                },\n                                                expression: \"fromName\",\n                                              },\n                                            }),\n                                          ],\n                                          1\n                                        ),\n                                      ]),\n                                      _vm._v(\" \"),\n                                      _c(\"div\", { staticClass: \"mt-3\" }, [\n                                        _c(\"label\", { staticClass: \"my-4\" }, [\n                                          _vm._v(\"Reply to\"),\n                                        ]),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          [\n                                            _c(\"vs-input\", {\n                                              staticClass: \"w-full\",\n                                              model: {\n                                                value: _vm.replyTo,\n                                                callback: function ($$v) {\n                                                  _vm.replyTo = $$v\n                                                },\n                                                expression: \"replyTo\",\n                                              },\n                                            }),\n                                          ],\n                                          1\n                                        ),\n                                      ]),\n                                    ]\n                                  ),\n                                ],\n                                1\n                              ),\n                              _vm._v(\" \"),\n                              _c(\n                                \"div\",\n                                { staticClass: \"mt-3\" },\n                                [\n                                  _c(\"label\", { staticClass: \"my-4\" }, [\n                                    _vm._v(\"Subject\"),\n                                  ]),\n                                  _vm._v(\" \"),\n                                  _c(\"vs-input\", {\n                                    staticClass: \"w-full\",\n                                    model: {\n                                      value: _vm.subject,\n                                      callback: function ($$v) {\n                                        _vm.subject = $$v\n                                      },\n                                      expression: \"subject\",\n                                    },\n                                  }),\n                                ],\n                                1\n                              ),\n                              _vm._v(\" \"),\n                              _c(\n                                \"div\",\n                                { staticClass: \"mt-3\" },\n                                [\n                                  _c(\"label\", { staticClass: \"my-4\" }, [\n                                    _vm._v(\"Content\"),\n                                  ]),\n                                  _vm._v(\" \"),\n                                  _c(\"vue-editor\", {\n                                    attrs: { editorToolbar: _vm.customToolbar },\n                                    model: {\n                                      value: _vm.content,\n                                      callback: function ($$v) {\n                                        _vm.content = $$v\n                                      },\n                                      expression: \"content\",\n                                    },\n                                  }),\n                                ],\n                                1\n                              ),\n                              _vm._v(\" \"),\n                              _c(\"div\", { staticClass: \"mt-3\" }, [\n                                _c(\"p\", [\n                                  _c(\"strong\", [_vm._v(\"Note:\")]),\n                                  _vm._v(\n                                    \" Selected files will be included\\n                      in the email as attachments.\\n                    \"\n                                  ),\n                                ]),\n                              ]),\n                              _vm._v(\" \"),\n                              _c(\n                                \"vs-button\",\n                                {\n                                  staticClass: \"mt-4\",\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.sendEmail()\n                                    },\n                                  },\n                                },\n                                [_vm._v(\"Send Email\")]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ]),\n                  ]),\n                ],\n              ],\n              2\n            ),\n          ],\n        ],\n        2\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".customNotes .ql-toolbar.ql-snow {\\n  display: none;\\n}\\n[dir] .customNotes #quill-container {\\n  border-top: 1px solid #ccc;\\n}\\r\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=style&index=0&id=2b33be83&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=style&index=0&id=2b33be83&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=style&index=0&id=2b33be83&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./EmailPopup.vue?vue&type=template&id=2b33be83&\"\nimport script from \"./EmailPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmailPopup.vue?vue&type=style&index=0&id=2b33be83&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2b33be83')) {\n      api.createRecord('2b33be83', component.options)\n    } else {\n      api.reload('2b33be83', component.options)\n    }\n    module.hot.accept(\"./EmailPopup.vue?vue&type=template&id=2b33be83&\", function () {\n      api.rerender('2b33be83', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/components/email/EmailPopup.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=style&index=0&id=2b33be83&lang=css&\"","export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailPopup.vue?vue&type=template&id=2b33be83&\""],"sourceRoot":""}