{"version":3,"sources":["webpack:///resources/js/src/views/pages/locate-driver/LocateDriver.vue","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue?c08e","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue?1924","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue?1988","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue?3023","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue?aba3","webpack:///./resources/js/src/views/pages/locate-driver/LocateDriver.vue?e61c"],"names":["render","_vm","_c","_self","staticClass","attrs","title","slot","id","center","zoom","options","infoOptions","position","infoWindowPos","opened","infoWinOpen","on","closeclick","$event","_v","_l","drivers","driver","key","driver_id","clickable","label","click","toggleInfoWindow","trucks","truck","truck_id","staticRenderFns","_withStripped"],"mappings":"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","file":"js/chunks/161.js","sourcesContent":["<template>\r\n  <div class=\"vx-row space-y-6\">\r\n    <div class=\"vx-col w-full\">\r\n      <vx-card title=\"Locate Drivers and Trucks\" class=\"w-full\">\r\n        <template slot=\"no-body\">\r\n          <div id=\"map-loading\" class=\"pt-8 vx-col w-full rounded-b-lg vs-con-loading__container\">\r\n            <GmapMap :center=\"center\" :zoom=\"4\" class=\"h-full w-full\">\r\n              <gmap-info-window :options=\"infoOptions\"\r\n                                :position=\"infoWindowPos\"\r\n                                :opened=\"infoWinOpen\"\r\n                                @closeclick=\"infoWinOpen=false\">\r\n              </gmap-info-window>\r\n\r\n              <gmap-marker v-for=\"driver in drivers\"\r\n                           :key=\"driver.driver_id\"\r\n                           :position=\"driver.position\"\r\n                           :clickable=\"true\"\r\n                           :label=\"driver.label\"\r\n                           @click=\"toggleInfoWindow(driver,'driver_id', driver.driver_id)\"></gmap-marker>\r\n              \r\n              <gmap-marker v-for=\"truck in trucks\"\r\n                           :key=\"truck.truck_id\"\r\n                           :position=\"truck.position\"\r\n                           :clickable=\"true\"\r\n                           :label=\"truck.label\"\r\n                           @click=\"toggleInfoWindow(truck,'truck_id', truck.truck_id)\"></gmap-marker>\r\n            </GmapMap>\r\n          </div>\r\n        </template>\r\n      </vx-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LocateDriver',\r\n\r\n  data () {\r\n    return {\r\n      drivers: [],\r\n      trucks: [],\r\n      center: {\r\n        lat: 42.3232698,\r\n        lng: -101.3711042\r\n      },\r\n\r\n      // Info window\r\n      selected_driver: null,\r\n      infoWindowPos: null,\r\n      infoWinOpen: false,\r\n      infoOptions: {\r\n        content: '',\r\n        pixelOffset: {\r\n          width: 0,\r\n          height: -35\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  async mounted () {\r\n    this.$vs.loading({\r\n      container: '#map-loading',\r\n      scale: 0.6\r\n    })\r\n\r\n    try {\r\n      await this.getAllDrivers()\r\n    } catch (error) {\r\n      this.$vs.notify({\r\n        color: 'danger',\r\n        title: 'Error',\r\n        text: error.response.data.message\r\n      })\r\n    } finally {\r\n      this.$vs.loading.close('#map-loading > .con-vs-loading')\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async getAllDrivers () {\r\n      const {payload} = await this.$store.dispatch('locate/locateAll')\r\n      this.drivers = payload.drivers.map(driver => {\r\n        return {\r\n          ...driver,\r\n          position: {\r\n            lat: Number(driver.latitude),\r\n            lng: Number(driver.longitude)\r\n          },\r\n          label: driver.name,\r\n          infoContent: `<div>\r\n               <h3 class=\"text-primary\">${driver.name}</h3>\r\n               <div class=\"mt-2 space-y-1\">\r\n                  <a href=\"tel:${driver.phone_number}\"\r\n                  class=\"block font-medium text-dark opacity-90\">${driver.phone_number}</a>\r\n                  <a href=\"mailto:${driver.email}\"\r\n                  class=\"block font-medium text-dark opacity-75\">${driver.email}</a>\r\n                </div>\r\n            </div>`\r\n        }\r\n      })\r\n      this.trucks = payload.trucks.map(truck => {\r\n        return {\r\n          ...truck,\r\n          position: {\r\n            lat: Number(truck.latitude),\r\n            lng: Number(truck.longitude)\r\n          },\r\n          label: truck.truck_number,\r\n          infoContent: `<div>\r\n               <h3 class=\"text-primary\">${truck.truck_number}</h3>\r\n               <div class=\"mt-2 space-y-1\">\r\n                  <span class=\"block font-medium text-dark opacity-75\">${truck.formatted_location}</span>\r\n                </div>\r\n            </div>`\r\n        }\r\n      })\r\n    },\r\n\r\n    toggleInfoWindow (driver, id_type, driver_id) {\r\n      this.infoWindowPos = driver.position\r\n      this.infoOptions.content = driver.infoContent\r\n      //check if its the same marker that was selected if yes toggle\r\n      if (this.selected_driver && this.selected_driver[id_type] == driver_id) {\r\n        this.infoWinOpen = !this.infoWinOpen\r\n      } else { // if different marker set infowindow to open and reset current marker index\r\n        this.infoWinOpen = true\r\n        this.selected_driver = driver\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#map-loading {\r\n  height: calc(100vh - 235px)\r\n}\r\n</style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", { staticClass: \"vx-row space-y-6\" }, [\n    _c(\n      \"div\",\n      { staticClass: \"vx-col w-full\" },\n      [\n        _c(\n          \"vx-card\",\n          {\n            staticClass: \"w-full\",\n            attrs: { title: \"Locate Drivers and Trucks\" },\n          },\n          [\n            _c(\"template\", { slot: \"no-body\" }, [\n              _c(\n                \"div\",\n                {\n                  staticClass:\n                    \"pt-8 vx-col w-full rounded-b-lg vs-con-loading__container\",\n                  attrs: { id: \"map-loading\" },\n                },\n                [\n                  _c(\n                    \"GmapMap\",\n                    {\n                      staticClass: \"h-full w-full\",\n                      attrs: { center: _vm.center, zoom: 4 },\n                    },\n                    [\n                      _c(\"gmap-info-window\", {\n                        attrs: {\n                          options: _vm.infoOptions,\n                          position: _vm.infoWindowPos,\n                          opened: _vm.infoWinOpen,\n                        },\n                        on: {\n                          closeclick: function ($event) {\n                            _vm.infoWinOpen = false\n                          },\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _vm._l(_vm.drivers, function (driver) {\n                        return _c(\"gmap-marker\", {\n                          key: driver.driver_id,\n                          attrs: {\n                            position: driver.position,\n                            clickable: true,\n                            label: driver.label,\n                          },\n                          on: {\n                            click: function ($event) {\n                              return _vm.toggleInfoWindow(\n                                driver,\n                                \"driver_id\",\n                                driver.driver_id\n                              )\n                            },\n                          },\n                        })\n                      }),\n                      _vm._v(\" \"),\n                      _vm._l(_vm.trucks, function (truck) {\n                        return _c(\"gmap-marker\", {\n                          key: truck.truck_id,\n                          attrs: {\n                            position: truck.position,\n                            clickable: true,\n                            label: truck.label,\n                          },\n                          on: {\n                            click: function ($event) {\n                              return _vm.toggleInfoWindow(\n                                truck,\n                                \"truck_id\",\n                                truck.truck_id\n                              )\n                            },\n                          },\n                        })\n                      }),\n                    ],\n                    2\n                  ),\n                ],\n                1\n              ),\n            ]),\n          ],\n          2\n        ),\n      ],\n      1\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#map-loading[data-v-385e010a] {\\n  height: calc(100vh - 235px);\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=style&index=0&id=385e010a&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=style&index=0&id=385e010a&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=style&index=0&id=385e010a&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./LocateDriver.vue?vue&type=template&id=385e010a&scoped=true&\"\nimport script from \"./LocateDriver.vue?vue&type=script&lang=js&\"\nexport * from \"./LocateDriver.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LocateDriver.vue?vue&type=style&index=0&id=385e010a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"385e010a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('385e010a')) {\n      api.createRecord('385e010a', component.options)\n    } else {\n      api.reload('385e010a', component.options)\n    }\n    module.hot.accept(\"./LocateDriver.vue?vue&type=template&id=385e010a&scoped=true&\", function () {\n      api.rerender('385e010a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/locate-driver/LocateDriver.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/style-loader/index.js!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=style&index=0&id=385e010a&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocateDriver.vue?vue&type=template&id=385e010a&scoped=true&\""],"sourceRoot":""}