{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/core-js/object/values.js","webpack:///resources/js/src/views/pages/marketing/crm/components/StageNamePopup.vue","webpack:///./resources/js/src/views/pages/marketing/crm/components/StageNamePopup.vue","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./resources/js/src/views/pages/marketing/crm/components/StageNamePopup.vue?788e","webpack:///./resources/js/src/views/pages/marketing/crm/components/StageNamePopup.vue?e279","webpack:///./resources/js/src/views/pages/marketing/crm/components/StageNamePopup.vue?48ed"],"names":["render","_vm","_c","_self","staticClass","attrs","title","popupTitle","active","togglePopup","on","$event","_v","id","type","model","value","stageName","callback","$$v","expression","color","click","closePopup","disabled","handleStageActions","staticRenderFns","_withStripped"],"mappings":"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","file":"js/chunks/138.js","sourcesContent":["module.exports = require(\"core-js/library/fn/object/values\");","<template>\r\n  <vs-popup\r\n    :title=\"popupTitle\"\r\n    class=\"satge-popup-active\"\r\n    :active.sync=\"togglePopup\"\r\n  >\r\n    <div class=\"flex flex-col space-y-4\">\r\n      <div class=\"vx-col w-full\">\r\n        <label class=\"text-xs\">Stage Name</label>\r\n        <vs-input\r\n          id=\"pipeline-name\"\r\n          v-model=\"stageName\"\r\n          type=\"text\"\r\n          class=\"w-full mt-2\"\r\n        />\r\n      </div>\r\n      <div class=\"flex justify-end space-x-2\">\r\n        <vs-button color=\"#1877f2\" type=\"border\" @click=\"closePopup\"\r\n          >Cancel</vs-button\r\n        >\r\n        <vs-button\r\n          color=\"#1877f2\"\r\n          :disabled=\"!stageName\"\r\n          @click=\"handleStageActions\"\r\n          >Save</vs-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </vs-popup>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n  name: 'stageNamePopup',\r\n  props: {\r\n    isActive: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    data: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters('marketing', ['selectedPipeline']),\r\n    togglePopup: {\r\n      get() {\r\n        return this.isActive;\r\n      },\r\n      set(val) {\r\n        if (!val) {\r\n          this.closePopup();\r\n        }\r\n      },\r\n    },\r\n    popupTitle() {\r\n      return this.editMode ? 'Rename Stage' : 'Add Stage';\r\n    },\r\n    editMode() {\r\n      return Object.values(this.data).length ? true : false;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      stageName: '',\r\n    };\r\n  },\r\n  methods: {\r\n    closePopup() {\r\n      this.$emit('closePopup');\r\n    },\r\n    showNotification(message, type) {\r\n      this.$vs.notify({\r\n        color: type,\r\n        title: type == 'danger' ? 'Error' : 'Success',\r\n        text: message,\r\n      });\r\n    },\r\n    async handleStageActions() {\r\n      const clonnedPipeline = structuredClone(this.selectedPipeline); // deep copying\r\n      try {\r\n        if (this.editMode) {\r\n          const stageIndex = clonnedPipeline.stages.findIndex(\r\n            (item) => item.id === this.data.id\r\n          );\r\n          clonnedPipeline.stages[stageIndex].name = this.stageName;\r\n          clonnedPipeline.stages = clonnedPipeline.stages.map(\r\n            (item, index) => ({\r\n              id: item.id,\r\n              ...(index === stageIndex && { name: item.name }),\r\n            })\r\n          );\r\n        } else {\r\n          clonnedPipeline.stages.push({ name: this.stageName });\r\n        }\r\n        delete clonnedPipeline.name;\r\n        const { data } = await this.$store.dispatch(\r\n          'marketing/editPipeline',\r\n          clonnedPipeline\r\n        );\r\n        this.$store.dispatch(\r\n          'marketing/updateMarketingPipelines',\r\n          data.payload.pipeline\r\n        );\r\n        this.showNotification(\r\n          this.editMode\r\n            ? 'Stage Updated Successfully'\r\n            : 'New Stage Added Successfully',\r\n          'primary'\r\n        );\r\n      } catch (error) {\r\n        this.showNotification(error.response.message, 'danger');\r\n      } finally {\r\n        this.closePopup();\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    isActive(val) {\r\n      if (val) {\r\n        this.$nextTick(() => {\r\n          this.stageName = (this.data || {}).name || '';\r\n        });\r\n      }\r\n      this.stageName = '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"vs-popup\",\n    {\n      staticClass: \"satge-popup-active\",\n      attrs: { title: _vm.popupTitle, active: _vm.togglePopup },\n      on: {\n        \"update:active\": function ($event) {\n          _vm.togglePopup = $event\n        },\n      },\n    },\n    [\n      _c(\"div\", { staticClass: \"flex flex-col space-y-4\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"vx-col w-full\" },\n          [\n            _c(\"label\", { staticClass: \"text-xs\" }, [_vm._v(\"Stage Name\")]),\n            _vm._v(\" \"),\n            _c(\"vs-input\", {\n              staticClass: \"w-full mt-2\",\n              attrs: { id: \"pipeline-name\", type: \"text\" },\n              model: {\n                value: _vm.stageName,\n                callback: function ($$v) {\n                  _vm.stageName = $$v\n                },\n                expression: \"stageName\",\n              },\n            }),\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"flex justify-end space-x-2\" },\n          [\n            _c(\n              \"vs-button\",\n              {\n                attrs: { color: \"#1877f2\", type: \"border\" },\n                on: { click: _vm.closePopup },\n              },\n              [_vm._v(\"Cancel\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"vs-button\",\n              {\n                attrs: { color: \"#1877f2\", disabled: !_vm.stageName },\n                on: { click: _vm.handleStageActions },\n              },\n              [_vm._v(\"Save\")]\n            ),\n          ],\n          1\n        ),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","import { render, staticRenderFns } from \"./StageNamePopup.vue?vue&type=template&id=1e1c733d&scoped=true&\"\nimport script from \"./StageNamePopup.vue?vue&type=script&lang=js&\"\nexport * from \"./StageNamePopup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e1c733d\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1e1c733d')) {\n      api.createRecord('1e1c733d', component.options)\n    } else {\n      api.reload('1e1c733d', component.options)\n    }\n    module.hot.accept(\"./StageNamePopup.vue?vue&type=template&id=1e1c733d&scoped=true&\", function () {\n      api.rerender('1e1c733d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/marketing/crm/components/StageNamePopup.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageNamePopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageNamePopup.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageNamePopup.vue?vue&type=template&id=1e1c733d&scoped=true&\""],"sourceRoot":""}