{"version":3,"sources":["webpack:///resources/js/src/views/pages/tripV2/planning/index.vue","webpack:///./resources/js/src/views/pages/tripV2/planning/index.vue","webpack:///./resources/js/src/views/pages/tripV2/planning/index.vue?0525","webpack:///./resources/js/src/views/pages/tripV2/planning/index.vue?9f75","webpack:///./resources/js/src/views/pages/tripV2/planning/index.vue?f106"],"names":["render","_vm","_c","_self","staticClass","selectedComponentId","attrs","viewOptions","activeId","on","changeTab","addSchedule","openScheduleForm","_e","_v","currentComponent","ref","tag","updateSchedule","updateLoad","openLoadSidebar","showScheduleForm","isDialogActive","schedulesArray","scheduleFormData","truckOptions","close","closeScheduleForm","refresh","refreshTimeline","directives","name","rawName","value","isSidebarActive","expression","data","sidebarData","closeSidebar","closeLoadSidebar","refreshCallingUi","refreshPageContent","staticRenderFns","_withStripped"],"mappings":";;;;;;;;;;;;;;;;;;;;AAyCA;AACA,sBADA;AAEA;AACA;AAAA;AAAA,KADA;AAEA;AAAA;AAAA,KAFA;AAGA;AAAA;AAAA,KAHA;AAIA;AAAA;AAAA,KAJA;AAKA;AAAA;AAAA;AALA,GAFA;AASA,SATA,qBASA;AACA;AACA;AADA;AAGA,GAbA;AAcA,MAdA,kBAcA;AACA;AACA,+BADA;AAEA,6BAFA;AAGA,4BAHA;AAIA,sBAJA;AAKA,4BALA;AAMA;AANA;AAQA,GAvBA;AAwBA,SAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;AAzBA;AAAA,qBA0BA,mBA1BA;;AAAA;AAAA;AAAA,qBA2BA,0BA3BA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AA6BA;AACA,eADA,yBACA;AACA,cACA;AACA,aADA;AAEA,yBAFA;AAGA,2BAHA;AAIA;AAJA,OADA,EAOA;AACA,aADA;AAEA,yBAFA;AAGA,2BAHA;AAIA;AAJA,OAPA;AAcA,KAhBA;AAiBA,oBAjBA,8BAiBA;AAAA;;AAAA,iBAEA;AAAA;AAAA,YACA,EAHA;AAAA,UACA,IADA,QACA,IADA;;AAIA;AACA;AAtBA,GA7BA;AAqDA;AACA,aADA,qBACA,KADA,EACA;AACA;AACA,KAHA;AAIA,oBAJA,8BAIA;AAAA;AACA;AACA;AACA,KAPA;AAQA,sBARA,gCAQA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAdA;AAeA,mBAfA,6BAeA;AACA;AAAA,oBACA,8BADA;AAAA,YACA,kBADA,SACA,kBADA;;AAEA;AACA;AACA;AACA;AACA,KAtBA;AAuBA,sBAvBA,gCAuBA;AACA;AAAA,oBACA,8BADA;AAAA,YACA,mBADA,SACA,mBADA;;AAEA;AACA;AACA;AACA;AACA,KA9BA;AA+BA,qBA/BA,+BA+BA;AACA;AACA;AACA,KAlCA;AAmCA,gBAnCA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAoCA,0CApCA;;AAAA;AAAA;AAoCA,uBApCA,SAoCA,OApCA;AAqCA;AArCA,kDAsCA,YAtCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAwCA,mBAxCA,2BAwCA,MAxCA,EAwCA;AACA;AAAA;AAAA;AACA;AACA,KA3CA;AA4CA,oBA5CA,8BA4CA;AACA;AACA;AACA,KA/CA;AAgDA,uBAhDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAkDA,oDAlDA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AArDA,G;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA,IAAIA,SAAS,SAASA,MAAT,GAAkB;AAC7B,MAAIC,MAAM,IAAV;AAAA,MACEC,KAAKD,IAAIE,KAAJ,CAAUD,EADjB;;AAEA,SAAOA,GACL,KADK,EAEL;AAAEE,iBAAa;AAAf,GAFK,EAGL,CACEH,IAAII,mBAAJ,GACIH,GAAG,QAAH,EAAa;AACXI,WAAO;AACLC,mBAAaN,IAAIM,WADZ;AAELC,gBAAUP,IAAII;AAFT,KADI;AAKXI,QAAI;AAAEC,iBAAWT,IAAIS,SAAjB;AAA4BC,mBAAaV,IAAIW;AAA7C;AALO,GAAb,CADJ,GAQIX,IAAIY,EAAJ,EATN,EAUEZ,IAAIa,EAAJ,CAAO,GAAP,CAVF,EAWEb,IAAIc,gBAAJ,GACIb,GACE,KADF,EAEE;AAAEE,iBAAa;AAAf,GAFF,EAGE,CACEF,GAAGD,IAAIc,gBAAP,EAAyB;AACvBC,SAAK,eADkB;AAEvBC,SAAK,WAFkB;AAGvBR,QAAI;AACFS,sBAAgBjB,IAAIW,gBADlB;AAEFO,kBAAYlB,IAAImB;AAFd;AAHmB,GAAzB,CADF,CAHF,EAaE,CAbF,CADJ,GAgBInB,IAAIY,EAAJ,EA3BN,EA4BEZ,IAAIa,EAAJ,CAAO,GAAP,CA5BF,EA6BEb,IAAIoB,gBAAJ,GACInB,GAAG,cAAH,EAAmB;AACjBI,WAAO;AACLgB,sBAAgBrB,IAAIoB,gBADf;AAELE,sBAAgBtB,IAAIuB,gBAFf;AAGLC,oBAAcxB,IAAIwB;AAHb,KADU;AAMjBhB,QAAI;AAAEiB,aAAOzB,IAAI0B,iBAAb;AAAgCC,eAAS3B,IAAI4B;AAA7C;AANa,GAAnB,CADJ,GASI5B,IAAIY,EAAJ,EAtCN,EAuCEZ,IAAIa,EAAJ,CAAO,GAAP,CAvCF,EAwCEZ,GAAG,cAAH,EAAmB;AACjB4B,gBAAY,CACV;AACEC,YAAM,MADR;AAEEC,eAAS,QAFX;AAGEC,aAAOhC,IAAIiC,eAHb;AAIEC,kBAAY;AAJd,KADU,CADK;AASjB7B,WAAO;AAAE4B,uBAAiBjC,IAAIiC,eAAvB;AAAwCE,YAAMnC,IAAIoC;AAAlD,KATU;AAUjB5B,QAAI;AACF6B,oBAAcrC,IAAIsC,gBADhB;AAEFC,wBAAkBvC,IAAIwC;AAFpB;AAVa,GAAnB,CAxCF,CAHK,EA2DL,CA3DK,CAAP;AA6DD,CAhED;;AAiEA,IAAIC,kBAAkB,EAAtB;AACA1C,OAAO2C,aAAP,GAAuB,IAAvB;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AACyG;AACzG,gBAAgB,2GAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA6M,CAAgB,iPAAG,EAAC,C;;;;;;;;;;;;ACAjO;AAAA;AAAA;AAAA;AAAA;AAAA","file":"js/chunks/225.js","sourcesContent":["<template>\r\n  <div class=\"planning-page\">\r\n    <!-- Header Tab  -->\r\n    <Header\r\n      v-if=\"selectedComponentId\"\r\n      :viewOptions=\"viewOptions\"\r\n      :activeId=\"selectedComponentId\"\r\n      @changeTab=\"changeTab\"\r\n      @addSchedule=\"openScheduleForm\"\r\n    />\r\n    <!-- Content -->\r\n    <div class=\"content-container\" v-if=\"currentComponent\">\r\n      <component\r\n        :is=\"currentComponent\"\r\n        ref=\"componentData\"\r\n        @updateSchedule=\"openScheduleForm\"\r\n        @updateLoad=\"openLoadSidebar\"\r\n      />\r\n    </div>\r\n    <!-- Schedule Form Pop Up  -->\r\n    <ScheduleForm\r\n      v-if=\"showScheduleForm\"\r\n      :isDialogActive=\"showScheduleForm\"\r\n      :schedulesArray=\"scheduleFormData\"\r\n      :truckOptions=\"truckOptions\"\r\n      @close=\"closeScheduleForm\"\r\n      @refresh=\"refreshTimeline\"\r\n    />\r\n\r\n    <!-- Load Sidebar, turn on if needed @refreshCallingUi=\"refreshPageContent\" -->\r\n    <load-sidebar\r\n      v-show=\"isSidebarActive\"\r\n      :isSidebarActive=\"isSidebarActive\"\r\n      @closeSidebar=\"closeLoadSidebar\"\r\n      :data=\"sidebarData\"\r\n      @refreshCallingUi=\"refreshPageContent\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PlanningPage\",\r\n  components: {\r\n    Header: () => import(\"./components/Header\"),\r\n    PlanningTab: () => import(\"./PlanningTab\"),\r\n    TimelineTab: () => import(\"./TimelineTab\"),\r\n    ScheduleForm: () => import(\"./components/ScheduleFormDialog\"),\r\n    LoadSidebar: () => import('@/views/pages/dispatch/load/LoadSidebar.vue')\r\n  },\r\n  provide() {\r\n    return {\r\n      openLoadSidebar: this.openLoadSidebar,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      selectedComponentId: null,\r\n      showScheduleForm: false,\r\n      scheduleFormData: null,\r\n      truckOptions: [],\r\n      isSidebarActive: false,\r\n      sidebarData: {}\r\n    };\r\n  },\r\n  async created() {\r\n    this.selectedComponentId = this.viewOptions[0].id;\r\n    await this.getAllTrucks();\r\n    await this.fecthAccessorialFee();\r\n  },\r\n  computed: {\r\n    viewOptions() {\r\n      return [\r\n        {\r\n          id: 1,\r\n          title: \"Planning\",\r\n          name: \"PlanningTab\",\r\n          isActive: true,\r\n        },\r\n        {\r\n          id: 2,\r\n          title: \"Timeline\",\r\n          name: \"TimelineTab\",\r\n          isActive: false,\r\n        },\r\n      ];\r\n    },\r\n    currentComponent() {\r\n      const { name } =\r\n        this.viewOptions.find((item) => item.id === this.selectedComponentId) ||\r\n        {};\r\n      return name || null;\r\n    },\r\n  },\r\n  methods: {\r\n    changeTab(tabId) {\r\n      this.selectedComponentId = tabId;\r\n    },\r\n    openScheduleForm(data = null) {\r\n      this.showScheduleForm = true;\r\n      this.scheduleFormData = data || null;\r\n    },\r\n    refreshPageContent() {\r\n      if (this.currentComponent === 'TimelineTab') {\r\n        this.refreshTimeline();\r\n      } else if (this.currentComponent === 'PlanningTab') {\r\n        this.refreshPlanningTab();\r\n      }\r\n    },\r\n    refreshTimeline() {\r\n      if (this.currentComponent === 'TimelineTab' && this.$refs.componentData) {\r\n        const { refreshPageContent } = this.$refs.componentData || {};\r\n        if (refreshPageContent) {\r\n          this.$refs.componentData.refreshPageContent();\r\n        }\r\n      }\r\n    },\r\n    refreshPlanningTab() {\r\n      if (this.currentComponent === 'PlanningTab' && this.$refs.componentData) {\r\n        const { getLoadsForPlanning } = this.$refs.componentData || {};\r\n        if (getLoadsForPlanning) {\r\n          this.$refs.componentData.getLoadsForPlanning();\r\n        }\r\n      }\r\n    },\r\n    closeScheduleForm() {\r\n      this.showScheduleForm = false;\r\n      this.scheduleFormData = null;\r\n    },\r\n    async getAllTrucks() {\r\n      const { payload } = await this.$store.dispatch(\"truck/getAllTrucks\");\r\n      this.truckOptions = payload.data;\r\n      return payload.data;\r\n    },\r\n    openLoadSidebar (loadId) {\r\n      this.sidebarData = { loadId }\r\n      this.isSidebarActive = true\r\n    },\r\n    closeLoadSidebar () {\r\n      this.isSidebarActive = false\r\n      this.sidebarData = {}\r\n    },\r\n    async fecthAccessorialFee() {\r\n      try {\r\n        await this.$store.dispatch('planningV2/getAccessorialFee');\r\n      } catch (error) {}\r\n    },\r\n  },\r\n};\r\n</script>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"planning-page\" },\n    [\n      _vm.selectedComponentId\n        ? _c(\"Header\", {\n            attrs: {\n              viewOptions: _vm.viewOptions,\n              activeId: _vm.selectedComponentId,\n            },\n            on: { changeTab: _vm.changeTab, addSchedule: _vm.openScheduleForm },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.currentComponent\n        ? _c(\n            \"div\",\n            { staticClass: \"content-container\" },\n            [\n              _c(_vm.currentComponent, {\n                ref: \"componentData\",\n                tag: \"component\",\n                on: {\n                  updateSchedule: _vm.openScheduleForm,\n                  updateLoad: _vm.openLoadSidebar,\n                },\n              }),\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.showScheduleForm\n        ? _c(\"ScheduleForm\", {\n            attrs: {\n              isDialogActive: _vm.showScheduleForm,\n              schedulesArray: _vm.scheduleFormData,\n              truckOptions: _vm.truckOptions,\n            },\n            on: { close: _vm.closeScheduleForm, refresh: _vm.refreshTimeline },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"load-sidebar\", {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.isSidebarActive,\n            expression: \"isSidebarActive\",\n          },\n        ],\n        attrs: { isSidebarActive: _vm.isSidebarActive, data: _vm.sidebarData },\n        on: {\n          closeSidebar: _vm.closeLoadSidebar,\n          refreshCallingUi: _vm.refreshPageContent,\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b88fa56e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b88fa56e')) {\n      api.createRecord('b88fa56e', component.options)\n    } else {\n      api.reload('b88fa56e', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=b88fa56e&\", function () {\n      api.rerender('b88fa56e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/tripV2/planning/index.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=b88fa56e&\""],"sourceRoot":""}