{"version":3,"sources":["webpack:///resources/js/src/views/pages/campaign-templates/add-campaign-template/Index.vue","webpack:///./resources/js/src/views/pages/campaign-templates/add-campaign-template/Index.vue","webpack:///./resources/js/src/views/pages/campaign-templates/add-campaign-template/Index.vue?8417","webpack:///./resources/js/src/views/pages/campaign-templates/add-campaign-template/Index.vue?935c","webpack:///./resources/js/src/views/pages/campaign-templates/add-campaign-template/Index.vue?b803"],"names":["render","_vm","_c","_self","attrs","template","disabledFunctionality","originalData","enableButtonValidation","on","templateSaved","handleSubmit","staticRenderFns","_withStripped"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA;AAEA;AACA,8BADA;AAEA;AACA;AAAA;AAAA;AADA,GAFA;AAKA,MALA,kBAKA;AACA;AACA,kBADA;AAEA;AAFA;AAIA,GAVA;AAWA,SAXA,qBAWA;AACA;AACA,GAbA;AAcA;AACA,QADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mCAFA,GAEA,qBAFA;;AAGA;AACA;AACA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAOA,uBAPA;AAAA;AAAA;AAAA,+FAOA,mBAPA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAQA;AARA;AAAA;AAAA,uBAUA,qBACA,mCADA,EAEA;AACA;AADA,iBAFA,CAVA;;AAAA;AAAA;AAUA,oBAVA,QAUA,IAVA;AAgBA;AACA;AAjBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBAmBA;AACA,4BADA;AAEA,iCAFA;AAGA,gCAHA;AAIA;AAJA,kBAnBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AA4BA,gBA5BA;AAAA;AAAA;AAAA,+FA4BA,OA5BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBA8BA,+FA9BA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBA+BA,qBACA,kCADA,oBAGA,OAHA,EA/BA;;AAAA;AA+BA,wBA/BA;;AAqCA;AACA;AACA,oCADA;AAEA,oCAFA;AAGA;AAHA;AAKA;AAAA;AAAA;AACA;;AA5CA;AAAA;;AAAA;AA8CA;AACA;AACA;;AACA,oBACA,8GACA,+FAFA,EAGA;AACA;AACA;;AAtDA,qBAuDA,yFAvDA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAwDA,qBACA,kCADA,EAEA;AACA,+EADA;AAEA;AAFA,iBAFA,CAxDA;;AAAA;AAwDA,yBAxDA;;AA+DA;AACA;AACA,oCADA;AAEA,oCAFA;AAGA;AAHA;AAKA;AAAA;AAAA;AACA;;AAtEA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBA0EA;AACA,4BADA;AAEA,iCAFA;AAGA,gCAHA;AAIA;AAJA,kBA1EA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA,G;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA,IAAIA,SAAS,SAASA,MAAT,GAAkB;AAC7B,MAAIC,MAAM,IAAV;AAAA,MACEC,KAAKD,IAAIE,KAAJ,CAAUD,EADjB;;AAEA,SAAOA,GAAG,qBAAH,EAA0B;AAC/BE,WAAO;AACLC,gBAAUJ,IAAII,QADT;AAELC,6BAAuB,IAFlB;AAGLC,oBAAcN,IAAIM,YAHb;AAILC,8BAAwB;AAJnB,KADwB;AAO/BC,QAAI;AAAEC,qBAAeT,IAAIU;AAArB;AAP2B,GAA1B,CAAP;AASD,CAZD;;AAaA,IAAIC,kBAAkB,EAAtB;AACAZ,OAAOa,aAAP,GAAuB,IAAvB;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AACyG;AACzG,gBAAgB,2GAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA6M,CAAgB,iPAAG,EAAC,C;;;;;;;;;;;;ACAjO;AAAA;AAAA;AAAA;AAAA;AAAA","file":"js/chunks/58.js","sourcesContent":["<template>\r\n  <AddCampaignTemplate\r\n    :template=\"template\"\r\n    :disabledFunctionality=\"true\"\r\n    :originalData=\"originalData\"\r\n    :enableButtonValidation=\"true\"\r\n    @templateSaved=\"handleSubmit\"\r\n  ></AddCampaignTemplate>\r\n</template>\r\n<script>\r\nimport { getApiErrorMsg, getObjectDifference } from '@/helpers/helper';\r\n\r\nexport default {\r\n  name: 'AddCampaignTemplates',\r\n  components: {\r\n    AddCampaignTemplate: () => import('./components/AddCampaignTemplates.vue'),\r\n  },\r\n  data() {\r\n    return {\r\n      template: {},\r\n      originalData: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    async init() {\r\n      const campaignTemplatesId = this.$route.params.id;\r\n      if (campaignTemplatesId) {\r\n        this.getTemplateDataById(campaignTemplatesId);\r\n      }\r\n    },\r\n    async getTemplateDataById(campaignTemplatesId) {\r\n      this.editMode = true;\r\n      try {\r\n        const { data } = await this.$store.dispatch(\r\n          'marketing/getCampaignTemplateById',\r\n          {\r\n            id: campaignTemplatesId,\r\n          }\r\n        );\r\n        this.template = data.payload;\r\n        this.originalData = structuredClone(this.template);\r\n      } catch (error) {\r\n        await this.$vs.notify({\r\n          time: 8000,\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: getApiErrorMsg(error),\r\n        });\r\n      }\r\n    },\r\n\r\n    async handleSubmit(payload) {\r\n      try {\r\n        if (!Object.keys(this.template).length) {\r\n          const response = await this.$store.dispatch(\r\n            'marketing/createCampaignTemplate',\r\n            {\r\n              ...payload,\r\n            }\r\n          );\r\n          if (response.data.message === 'Success') {\r\n            this.$vs.notify({\r\n              color: 'primary',\r\n              title: 'Success',\r\n              text: `Campaign Template Added Successfully`,\r\n            });\r\n            this.$router.push({ name: 'campaign-templates' });\r\n          }\r\n        } else {\r\n          if (!getObjectDifference(this.originalData, payload).name) {\r\n            delete payload.name;\r\n          }\r\n          if (\r\n            JSON.stringify(this.originalData.sequences) ===\r\n            JSON.stringify(payload.sequences)\r\n          ) {\r\n            delete payload.sequences;\r\n          }\r\n          if (Object.keys(payload).length) {\r\n            const response = await this.$store.dispatch(\r\n              'marketing/updateCampaignTemplate',\r\n              {\r\n                id: this.templateId ? this.templateId : this.$route.params.id,\r\n                payload,\r\n              }\r\n            );\r\n            if (response.data.message == 'Success') {\r\n              this.$vs.notify({\r\n                color: 'primary',\r\n                title: 'Success',\r\n                text: `Campaign Template updated Successfully`,\r\n              });\r\n              this.$router.push({ name: 'campaign-templates' });\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        await this.$vs.notify({\r\n          time: 8000,\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: getApiErrorMsg(error),\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"AddCampaignTemplate\", {\n    attrs: {\n      template: _vm.template,\n      disabledFunctionality: true,\n      originalData: _vm.originalData,\n      enableButtonValidation: true,\n    },\n    on: { templateSaved: _vm.handleSubmit },\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=29e19df0&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('29e19df0')) {\n      api.createRecord('29e19df0', component.options)\n    } else {\n      api.reload('29e19df0', component.options)\n    }\n    module.hot.accept(\"./Index.vue?vue&type=template&id=29e19df0&\", function () {\n      api.rerender('29e19df0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/campaign-templates/add-campaign-template/Index.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=template&id=29e19df0&\""],"sourceRoot":""}