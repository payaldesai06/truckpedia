{"version":3,"sources":["webpack:///resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue?1693","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue?972b","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue?0cc3","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue?7718","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue?a798","webpack:///./resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue?4399"],"names":["render","_vm","_c","_self","staticClass","_v","showNewCustomerBlock","attrs","color","type","icon","size","on","click","$event","stopPropagation","_e","customerAdded","newSelectCustomer","cancel","options","customerOptions","label","clearable","dir","$vs","rtl","placeholder","input","onCustomerChanged","model","value","customerInfo","selectedCustomer","callback","$$v","$set","expression","company_name","_s","billing_email","invoiceNumber","for","name","dueDate","nativeOn","shippingAddress","staticRenderFns","_withStripped"],"mappings":"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","file":"js/chunks/181.js","sourcesContent":["<template>\r\n  <vx-card class=\"mt-2\">\r\n    <header>\r\n      <div class=\"vx-row flex justify-between items-end\">\r\n        <div class=\"vx-col\">\r\n          <h5 class=\"font-bold\">Customer</h5>\r\n        </div>\r\n        <div class=\"vx-col flex\">\r\n          <vs-button\r\n            v-if=\"!showNewCustomerBlock\"\r\n            color=\"primary\"\r\n            type=\"border\"\r\n            icon-pack=\"feather\"\r\n            icon=\"icon-plus\"\r\n            size=\"small\"\r\n            @click.stop=\"showNewCustomerBlock = true\"\r\n          >\r\n            Add Customer\r\n          </vs-button>\r\n        </div>\r\n      </div>\r\n      <vs-divider />\r\n    </header>\r\n    <div class=\"vx-row mx-auto my-2\" v-if=\"showNewCustomerBlock\">\r\n      <CreateCustomerMiniForm\r\n        @customerAdded=\"newSelectCustomer\"\r\n        @cancel=\"showNewCustomerBlock = false\"\r\n      />\r\n    </div>\r\n    <section v-else>\r\n      <div class=\"vx-row my-2 mx-auto\">\r\n        <div class=\"vx-col w-1/2\">\r\n          <v-select\r\n            :options=\"customerOptions\"\r\n            label=\"company_name\"\r\n            :clearable=\"true\"\r\n            :dir=\"$vs.rtl ? 'rtl' : 'ltr'\"\r\n            @input=\"onCustomerChanged\"\r\n            v-model=\"customerInfo.selectedCustomer\"\r\n            placeholder=\"Select Customer\"\r\n          />\r\n        </div>\r\n        <div class=\"vx-col w-1/2\">\r\n          <div\r\n            class=\"container m-auto\"\r\n            v-if=\"customerInfo.selectedCustomer && !showNewCustomerBlock\"\r\n          >\r\n            <!-- <div class=\"vx-row\"><strong> Customer Info: </strong></div> -->\r\n            <div\r\n              class=\"vx-row\"\r\n              v-if=\"customerInfo.selectedCustomer.company_name\"\r\n            >\r\n              <span\r\n                class=\"vx-col overflow-hidden text-ellipsis whitespace-nowrap\"\r\n              >\r\n                {{ customerInfo.selectedCustomer.company_name }}\r\n              </span>\r\n            </div>\r\n            <div\r\n              class=\"vx-row\"\r\n              v-if=\"customerInfo.selectedCustomer.billing_email\"\r\n            >\r\n              <span\r\n                class=\"vx-col overflow-hidden text-ellipsis whitespace-nowrap\"\r\n              >\r\n                {{ customerInfo.selectedCustomer.billing_email }}\r\n              </span>\r\n            </div>\r\n            <!-- <div class=\"vx-row\" v-if=\"customerInfo.selectedCustomer.billing_address\">\r\n              <span class=\"vx-col\">\r\n                {{ customerInfo.selectedCustomer.billing_address }}\r\n              </span>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-row mt-4 mb-2 mx-auto\">\r\n        <div class=\"vx-col w-1/2\">\r\n          <vs-input\r\n            v-model=\"customerInfo.invoiceNumber\"\r\n            label=\"Invoice number\"\r\n            class=\"w-full\"\r\n          />\r\n        </div>\r\n        <div class=\"vx-col w-1/2\">\r\n          <label for=\"dueDate\" class=\"vs-input--label\">Due date</label>\r\n          <flat-pickr\r\n            name=\"dueDate\"\r\n            label=\"Due date\"\r\n            placeholder=\"Select date\"\r\n            class=\"w-full\"\r\n            v-model=\"customerInfo.dueDate\"\r\n          />\r\n          <vs-icon\r\n            class=\"clear-date-icon\"\r\n            icon=\"close\"\r\n            size=\"small\"\r\n            @click.native.stop=\"customerInfo.dueDate = null\"\r\n          />\r\n        </div>\r\n        <div class=\"vx-col w-1/2\">\r\n          <vs-input\r\n            name=\"shippingAddress\"\r\n            placeholder=\"Address\"\r\n            v-model=\"customerInfo.shippingAddress\"\r\n            label=\"Shipping address\"\r\n            class=\"w-full\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </vx-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CustomerSelector\",\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    editInvoiceDetails: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  components: {\r\n    CreateCustomerMiniForm: () => import(\"./CreateCustomerMiniForm\"),\r\n  },\r\n  async created() {\r\n    await this.getAllCustomers();\r\n  },\r\n  data() {\r\n    return {\r\n      customerInfo: null,\r\n      customerOptions: [],\r\n      showNewCustomerBlock: false,\r\n      editInvoiceDetailsCalled: false,\r\n    };\r\n  },\r\n  watch: {\r\n    value: {\r\n      handler(value) {\r\n        // console.log(\"value\", value);\r\n        this.customerInfo = value;\r\n      },\r\n      immediate: true,\r\n    },\r\n    customerInfo: {\r\n      handler(value) {\r\n        console.log(\"customerInfo\", value);\r\n        this.setDueDate();\r\n        this.$emit(\"input\", value);\r\n      },\r\n      deep: true,\r\n    },\r\n    editInvoiceDetails: {\r\n      handler(value) {\r\n        if (value && !this.editInvoiceDetailsCalled) {\r\n          // It seems that this is only called when loading an existing invoice.\r\n          // console.log(\"editInvoiceDetails\", value);\r\n          const info = this.customerOptions.filter(\r\n            (item) => item.customer_id === value.customerId\r\n          );\r\n          this.customerInfo.selectedCustomer = info[0];\r\n          this.customerInfo.invoiceNumber = value.invoiceNumber;\r\n          this.customerInfo.dueDate = value.dueDate;\r\n          this.customerInfo.shippingAddress = value.shippingAddress;\r\n          // this is to fix the bug when you modify an existing invoice's items, customer is reset.\r\n          this.editInvoiceDetailsCalled = true;\r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    onCustomerChanged(value) {\r\n      // Test cases: 1. Open existing invoice w/o customer/shipping address.\r\n      // 2. Change customer for existing invoice.\r\n      // 3. New invoice.\r\n      // console.log(\"onCustomerChanged\", value);\r\n      this.customerInfo.shippingAddress = this.computeShippingAddress(value);\r\n    },\r\n\r\n    computeShippingAddress(customer) {\r\n      if (\r\n        customer &&\r\n        (customer.address ||\r\n          customer.city ||\r\n          customer.state ||\r\n          customer.zip_code)\r\n      ) {\r\n        return (\r\n          customer.address +\r\n          \", \" +\r\n          customer.city +\r\n          \", \" +\r\n          customer.state +\r\n          \", \" +\r\n          customer.zip_code\r\n        );\r\n      }\r\n      return null;\r\n    },\r\n\r\n    async getAllCustomers() {\r\n      try {\r\n        const customerOptions = [];\r\n        const { payload } = await this.$store.dispatch(\r\n          \"customer/getAllCustomers\"\r\n        );\r\n\r\n        payload.data.forEach((item) => {\r\n          const selectedCompanyObj = {\r\n            billing_contact: item.billing_contact,\r\n            billing_email: item.billing_email,\r\n            billing_address: item.billing_address,\r\n            billing_city: item.billing_city,\r\n            billing_state: item.billing_state,\r\n            billing_zip_code: item.billing_zip_code,\r\n            billing_phone_number: item.billing_phone_number,\r\n            customer_id: item.customer_id,\r\n            payment_terms_day: item.payment_terms_day,\r\n            address: item.address,\r\n            city: item.city,\r\n            state: item.state,\r\n            zip_code: item.zip_code,\r\n            shippingCarrierAcct: item.shippingCarrierAcct,\r\n            salesRep: item.salesRep,\r\n          };\r\n          if (item.billToCodes.length) {\r\n            item.billToCodes.forEach((code) => {\r\n              let selectedCompany = {};\r\n              selectedCompany.company_name = item.company_name + \" - \" + code;\r\n              selectedCompany.bill_to_code = code;\r\n              customerOptions.push({\r\n                ...selectedCompanyObj,\r\n                ...selectedCompany,\r\n              });\r\n            });\r\n          } else {\r\n            let selectedCompany = {};\r\n            selectedCompany.company_name = item.company_name;\r\n            selectedCompany.bill_to_code = null;\r\n            customerOptions.push({\r\n              ...selectedCompanyObj,\r\n              ...selectedCompany,\r\n            });\r\n          }\r\n        });\r\n        this.customerOptions = customerOptions;\r\n        if (this.editInvoiceDetails.customerId) {\r\n          await this.selectCustomer(this.editInvoiceDetails.customerId);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async newSelectCustomer(customerId) {\r\n      await this.getAllCustomers();\r\n      const customer = this.customerOptions.find(\r\n        (item) => item.customer_id === customerId\r\n      );\r\n      this.customerInfo.selectedCustomer = customer;\r\n      this.onCustomerChanged(customer);\r\n      this.showNewCustomerBlock = false;\r\n    },\r\n    async selectCustomer(customerId) {\r\n      // await this.getAllCustomers();\r\n      this.customerInfo.selectedCustomer = this.customerOptions.find(\r\n        (item) => item.customer_id === customerId\r\n      );\r\n      this.showNewCustomerBlock = false;\r\n    },\r\n    setDueDate() {\r\n      const { payment_terms_day } =\r\n        (this.customerInfo || {}).selectedCustomer || {};\r\n      if (!payment_terms_day) return;\r\n      if (this.customerInfo.dueDate) return;\r\n      let date = new Date();\r\n      date.setDate(date.getDate() + parseInt(payment_terms_day));\r\n      const newDate = date.toISOString().split(\"T\", 1)[0];\r\n      this.customerInfo.dueDate = newDate;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.clear-date-icon {\r\n  font-size: 1.2rem;\r\n  position: relative;\r\n  bottom: 27px;\r\n  left: 90%;\r\n  z-index: 10000;\r\n  cursor: pointer;\r\n}\r\n\r\n// Utility classes\r\n.text-ellipsis {\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.whitespace-nowrap {\r\n  white-space: nowrap;\r\n}\r\n</style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"vx-card\", { staticClass: \"mt-2\" }, [\n    _c(\n      \"header\",\n      [\n        _c(\"div\", { staticClass: \"vx-row flex justify-between items-end\" }, [\n          _c(\"div\", { staticClass: \"vx-col\" }, [\n            _c(\"h5\", { staticClass: \"font-bold\" }, [_vm._v(\"Customer\")]),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"vx-col flex\" },\n            [\n              !_vm.showNewCustomerBlock\n                ? _c(\n                    \"vs-button\",\n                    {\n                      attrs: {\n                        color: \"primary\",\n                        type: \"border\",\n                        \"icon-pack\": \"feather\",\n                        icon: \"icon-plus\",\n                        size: \"small\",\n                      },\n                      on: {\n                        click: function ($event) {\n                          $event.stopPropagation()\n                          _vm.showNewCustomerBlock = true\n                        },\n                      },\n                    },\n                    [_vm._v(\"\\n          Add Customer\\n        \")]\n                  )\n                : _vm._e(),\n            ],\n            1\n          ),\n        ]),\n        _vm._v(\" \"),\n        _c(\"vs-divider\"),\n      ],\n      1\n    ),\n    _vm._v(\" \"),\n    _vm.showNewCustomerBlock\n      ? _c(\n          \"div\",\n          { staticClass: \"vx-row mx-auto my-2\" },\n          [\n            _c(\"CreateCustomerMiniForm\", {\n              on: {\n                customerAdded: _vm.newSelectCustomer,\n                cancel: function ($event) {\n                  _vm.showNewCustomerBlock = false\n                },\n              },\n            }),\n          ],\n          1\n        )\n      : _c(\"section\", [\n          _c(\"div\", { staticClass: \"vx-row my-2 mx-auto\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"vx-col w-1/2\" },\n              [\n                _c(\"v-select\", {\n                  attrs: {\n                    options: _vm.customerOptions,\n                    label: \"company_name\",\n                    clearable: true,\n                    dir: _vm.$vs.rtl ? \"rtl\" : \"ltr\",\n                    placeholder: \"Select Customer\",\n                  },\n                  on: { input: _vm.onCustomerChanged },\n                  model: {\n                    value: _vm.customerInfo.selectedCustomer,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.customerInfo, \"selectedCustomer\", $$v)\n                    },\n                    expression: \"customerInfo.selectedCustomer\",\n                  },\n                }),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"vx-col w-1/2\" }, [\n              _vm.customerInfo.selectedCustomer && !_vm.showNewCustomerBlock\n                ? _c(\"div\", { staticClass: \"container m-auto\" }, [\n                    _vm.customerInfo.selectedCustomer.company_name\n                      ? _c(\"div\", { staticClass: \"vx-row\" }, [\n                          _c(\n                            \"span\",\n                            {\n                              staticClass:\n                                \"vx-col overflow-hidden text-ellipsis whitespace-nowrap\",\n                            },\n                            [\n                              _vm._v(\n                                \"\\n              \" +\n                                  _vm._s(\n                                    _vm.customerInfo.selectedCustomer\n                                      .company_name\n                                  ) +\n                                  \"\\n            \"\n                              ),\n                            ]\n                          ),\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _vm.customerInfo.selectedCustomer.billing_email\n                      ? _c(\"div\", { staticClass: \"vx-row\" }, [\n                          _c(\n                            \"span\",\n                            {\n                              staticClass:\n                                \"vx-col overflow-hidden text-ellipsis whitespace-nowrap\",\n                            },\n                            [\n                              _vm._v(\n                                \"\\n              \" +\n                                  _vm._s(\n                                    _vm.customerInfo.selectedCustomer\n                                      .billing_email\n                                  ) +\n                                  \"\\n            \"\n                              ),\n                            ]\n                          ),\n                        ])\n                      : _vm._e(),\n                  ])\n                : _vm._e(),\n            ]),\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"vx-row mt-4 mb-2 mx-auto\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"vx-col w-1/2\" },\n              [\n                _c(\"vs-input\", {\n                  staticClass: \"w-full\",\n                  attrs: { label: \"Invoice number\" },\n                  model: {\n                    value: _vm.customerInfo.invoiceNumber,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.customerInfo, \"invoiceNumber\", $$v)\n                    },\n                    expression: \"customerInfo.invoiceNumber\",\n                  },\n                }),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"vx-col w-1/2\" },\n              [\n                _c(\n                  \"label\",\n                  { staticClass: \"vs-input--label\", attrs: { for: \"dueDate\" } },\n                  [_vm._v(\"Due date\")]\n                ),\n                _vm._v(\" \"),\n                _c(\"flat-pickr\", {\n                  staticClass: \"w-full\",\n                  attrs: {\n                    name: \"dueDate\",\n                    label: \"Due date\",\n                    placeholder: \"Select date\",\n                  },\n                  model: {\n                    value: _vm.customerInfo.dueDate,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.customerInfo, \"dueDate\", $$v)\n                    },\n                    expression: \"customerInfo.dueDate\",\n                  },\n                }),\n                _vm._v(\" \"),\n                _c(\"vs-icon\", {\n                  staticClass: \"clear-date-icon\",\n                  attrs: { icon: \"close\", size: \"small\" },\n                  nativeOn: {\n                    click: function ($event) {\n                      $event.stopPropagation()\n                      _vm.customerInfo.dueDate = null\n                    },\n                  },\n                }),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"vx-col w-1/2\" },\n              [\n                _c(\"vs-input\", {\n                  staticClass: \"w-full\",\n                  attrs: {\n                    name: \"shippingAddress\",\n                    placeholder: \"Address\",\n                    label: \"Shipping address\",\n                  },\n                  model: {\n                    value: _vm.customerInfo.shippingAddress,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.customerInfo, \"shippingAddress\", $$v)\n                    },\n                    expression: \"customerInfo.shippingAddress\",\n                  },\n                }),\n              ],\n              1\n            ),\n          ]),\n        ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".clear-date-icon[data-v-0db91492] {\\n  font-size: 1.2rem;\\n  position: relative;\\n  bottom: 27px;\\n  z-index: 10000;\\n}[dir] .clear-date-icon[data-v-0db91492] {\\n  cursor: pointer;\\n}[dir=ltr] .clear-date-icon[data-v-0db91492] {\\n  left: 90%;\\n}[dir=rtl] .clear-date-icon[data-v-0db91492] {\\n  right: 90%;\\n}\\n.text-ellipsis[data-v-0db91492] {\\n  text-overflow: ellipsis;\\n}\\n.whitespace-nowrap[data-v-0db91492] {\\n  white-space: nowrap;\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0db91492&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0db91492&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0db91492&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0db91492&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0db91492&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0db91492\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0db91492')) {\n      api.createRecord('0db91492', component.options)\n    } else {\n      api.reload('0db91492', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=0db91492&scoped=true&\", function () {\n      api.rerender('0db91492', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/tripV2/components/Invoice/EditPanel/CustomerSelector/index.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../../../../node_modules/style-loader/index.js!../../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0db91492&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=0db91492&scoped=true&\""],"sourceRoot":""}