{"version":3,"sources":["webpack:///resources/js/src/views/pages/tripV2/components/FuelCard.vue","webpack:///./resources/js/src/views/pages/tripV2/components/FuelCard.vue","webpack:///./resources/js/src/views/pages/tripV2/components/FuelCard.vue?4834","webpack:///./resources/js/src/views/pages/tripV2/components/FuelCard.vue?cb13","webpack:///./resources/js/src/views/pages/tripV2/components/FuelCard.vue?f8ee"],"names":["render","_vm","_c","_self","staticClass","attrs","color","type","on","click","$event","handleItemModal","_v","tableData","itemsList","loading","totalRecords","rows","onPage","editItem","editRecord","deleteItem","openDeleteConfirmation","fuelCardSidebar","isActive","data","selectedRecord","onClose","refresh","init","staticRenderFns","_withStripped"],"mappings":"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","file":"js/chunks/221.js","sourcesContent":["<template>\r\n  <div>\r\n    <vx-card>\r\n      <div class=\"vx-row justify-end items-center\">\r\n        <div class=\"vx-col\">\r\n          <vs-button\r\n            color=\"primary\"\r\n            type=\"filled\"\r\n            @click=\"handleItemModal(true)\"\r\n          >\r\n            New\r\n          </vs-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-row mt-5\">\r\n        <div class=\"vx-col w-full\">\r\n          <TableList\r\n            :tableData=\"itemsList\"\r\n            @onPage=\"onPage\"\r\n            :loading=\"loading\"\r\n            :totalRecords=\"totalRecords\"\r\n            :rows=\"rows\"\r\n            @editItem=\"editRecord\"\r\n            @deleteItem=\"openDeleteConfirmation\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </vx-card>\r\n    <div>\r\n      <AddItems\r\n        :is-show=\"fuelCardSidebar.isActive\"\r\n        :data=\"fuelCardSidebar.selectedRecord\"\r\n        @onClose=\"handleItemModal(false)\"\r\n        @refresh=\"init\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getApiErrorMsg } from '@/helpers/helper';\r\nexport default {\r\n  name: 'FuelCard',\r\n  components: {\r\n    AddItems: () => import('./FuelCard/AddItems.vue'),\r\n    TableList: () => import('./FuelCard/TableList.vue'),\r\n  },\r\n  data() {\r\n    return {\r\n      showItemModal: false,\r\n      selectedItemId: null,\r\n      selectedItem: null,\r\n      rows: 10,\r\n      loading: false,\r\n      totalRecords: 0,\r\n      itemsList: [],\r\n      fuelCardSidebar: {\r\n        isActive: false,\r\n        selectedRecord: null,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    async init(pageSize = 25, currentPage = 1) {\r\n      try {\r\n        const parameter = {\r\n          page: currentPage,\r\n          pageSize: pageSize,\r\n          fields: [\r\n            'cardNumber',\r\n            'status',\r\n            'expirationDate',\r\n            'notes',\r\n            'currentAssignee',\r\n          ],\r\n        };\r\n        const {\r\n          data: { payload },\r\n        } = await this.$store.dispatch('accounting/getFuelCards', parameter);\r\n        if (payload) {\r\n          this.itemsList =\r\n            payload && payload.fuelCards ? payload.fuelCards : [];\r\n          this.totalRecords =\r\n            payload && payload.meta ? payload.meta.totalItems : 0;\r\n        }\r\n      } catch (error) {\r\n        this.itemsList = [];\r\n        this.totalRecords = 0;\r\n        await this.$vs.notify({\r\n          time: 8000,\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: getApiErrorMsg(error),\r\n        });\r\n      } finally {\r\n      }\r\n    },\r\n    handleItemModal(val) {\r\n      this.fuelCardSidebar.selectedRecord = null;\r\n      this.fuelCardSidebar.isActive = val;\r\n    },\r\n    async editRecord(id) {\r\n      try {\r\n        const {\r\n          data: { payload },\r\n        } = await this.$store.dispatch('accounting/getFuelCardById', id);\r\n        if (payload) {\r\n          this.fuelCardSidebar.isActive = true;\r\n          this.fuelCardSidebar.selectedRecord = payload;\r\n        }\r\n      } catch (error) {\r\n        await this.$vs.notify({\r\n          time: 8000,\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: getApiErrorMsg(error),\r\n        });\r\n      }\r\n    },\r\n    async openDeleteConfirmation(id) {\r\n      await this.$vs.dialog({\r\n        type: 'confirm',\r\n        color: 'danger',\r\n        title: 'Delete Issue',\r\n        text: 'Are you sure you want to delete this Fuel Card?',\r\n        accept: () => this.deleteCard(id),\r\n      });\r\n    },\r\n    async deleteCard(id) {\r\n      try {\r\n        await this.$store.dispatch('accounting/deleteFuelCard', id);\r\n        this.init();\r\n        this.$vs.notify({\r\n          time: 8000,\r\n          title: 'Success',\r\n          text: 'Deleted successfully',\r\n          color: 'primary',\r\n        });\r\n      } catch (error) {\r\n        await this.$vs.notify({\r\n          time: 8000,\r\n          color: 'danger',\r\n          title: 'Error',\r\n          text: getApiErrorMsg(error),\r\n        });\r\n      }\r\n    },\r\n    onPage({ page, rows }) {\r\n      this.init(rows, page + 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      _c(\"vx-card\", [\n        _c(\"div\", { staticClass: \"vx-row justify-end items-center\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"vx-col\" },\n            [\n              _c(\n                \"vs-button\",\n                {\n                  attrs: { color: \"primary\", type: \"filled\" },\n                  on: {\n                    click: function ($event) {\n                      return _vm.handleItemModal(true)\n                    },\n                  },\n                },\n                [_vm._v(\"\\n          New\\n        \")]\n              ),\n            ],\n            1\n          ),\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"vx-row mt-5\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"vx-col w-full\" },\n            [\n              _c(\"TableList\", {\n                attrs: {\n                  tableData: _vm.itemsList,\n                  loading: _vm.loading,\n                  totalRecords: _vm.totalRecords,\n                  rows: _vm.rows,\n                },\n                on: {\n                  onPage: _vm.onPage,\n                  editItem: _vm.editRecord,\n                  deleteItem: _vm.openDeleteConfirmation,\n                },\n              }),\n            ],\n            1\n          ),\n        ]),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\"AddItems\", {\n            attrs: {\n              \"is-show\": _vm.fuelCardSidebar.isActive,\n              data: _vm.fuelCardSidebar.selectedRecord,\n            },\n            on: {\n              onClose: function ($event) {\n                return _vm.handleItemModal(false)\n              },\n              refresh: _vm.init,\n            },\n          }),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./FuelCard.vue?vue&type=template&id=3407df86&\"\nimport script from \"./FuelCard.vue?vue&type=script&lang=js&\"\nexport * from \"./FuelCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3407df86')) {\n      api.createRecord('3407df86', component.options)\n    } else {\n      api.reload('3407df86', component.options)\n    }\n    module.hot.accept(\"./FuelCard.vue?vue&type=template&id=3407df86&\", function () {\n      api.rerender('3407df86', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/tripV2/components/FuelCard.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FuelCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FuelCard.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FuelCard.vue?vue&type=template&id=3407df86&\""],"sourceRoot":""}