{"version":3,"sources":["webpack:///resources/js/src/views/pages/menu/components/GanttView.vue","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue?ca90","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue?6c67","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue?9e2e","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue?b358","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue?82f3","webpack:///./resources/js/src/views/pages/menu/components/GanttView.vue?d80e"],"names":["render","_vm","_c","_self","staticClass","attrs","viewName","selectedGroupBy","groupByOptions","viewMetaData","customFields","on","updateView","toggleDetailsView","length","color","icon","size","_v","dateCriteria","name","_s","_e","_l","item","key","id","disabled","isDisabled","click","$event","updateDateCriteria","dateRange","join","chartData","ChartHeight","showSideBar","dateHourModeDayCount","onClickBar","recordId","scopedSlots","_u","fn","infoFieldToRender","recordDataMap","textValue","staticRenderFns","_withStripped"],"mappings":"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","file":"js/chunks/169.js","sourcesContent":["<template>\r\n  <div class=\"menu-gantt-view\">\r\n    <ControlBar\r\n      :viewName=\"'gantt'\"\r\n      :selectedGroupBy=\"selectedGroupBy\"\r\n      :groupByOptions=\"groupByOptions\"\r\n      :viewMetaData=\"viewMetaData\"\r\n      :customFields=\"customFields\"\r\n      @updateView=\"updateView\"\r\n      @toggleDetailsView=\"toggleDetailsView\"\r\n    >\r\n      <div class=\"group-by ml-2\" v-if=\"(groupByOptions || []).length\">\r\n        <vs-dropdown vs-trigger-click>\r\n          <vs-button\r\n            class=\"btn-drop cursor-pointer\"\r\n            color=\"primary\"\r\n            icon=\"expand_more\"\r\n            size=\"small\"\r\n            icon-after\r\n          >\r\n            <span> Dates Criteria </span>\r\n            <span v-if=\"(dateCriteria || {}).name\">\r\n              : {{ dateCriteria.name }}\r\n            </span>\r\n          </vs-button>\r\n          <vs-dropdown-menu>\r\n            <vs-dropdown-item\r\n              v-for=\"item in groupByOptions\"\r\n              :key=\"item.id\"\r\n              :disabled=\"item.isDisabled\"\r\n              @click=\"updateDateCriteria(item)\"\r\n            >\r\n              {{ item.name }}\r\n            </vs-dropdown-item>\r\n          </vs-dropdown-menu>\r\n        </vs-dropdown>\r\n      </div>\r\n    </ControlBar>\r\n    <GanttChart\r\n      :key=\"dateRange.join('-')\"\r\n      class=\"mt-4\"\r\n      :gantt-data=\"chartData\"\r\n      :time-section=\"dateRange\"\r\n      :chart-max-height=\"ChartHeight\"\r\n      :showSideBar=\"false\"\r\n      :dateHourModeDayCount=\"0\"\r\n      @onClickBar=\"toggleDetailsView($event.recordId)\"\r\n    >\r\n      <template #container-box=\"{ item }\">\r\n        <div\r\n          v-if=\"typeof item === 'object' && infoFieldToRender\"\r\n          class=\"gantt_side_content text-primary\"\r\n        >\r\n          {{ recordDataMap[item.recordId][infoFieldToRender.id].textValue }}\r\n        </div>\r\n      </template>\r\n    </GanttChart>\r\n  </div>\r\n</template>\r\n<!-- eslint-disable multiline-ternary -->\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport GroupBy from \"../mixins/GroupBy\";\r\nexport default {\r\n  name: \"GanttView\",\r\n  mixins: [GroupBy],\r\n  components: {\r\n    GanttChart: () => import(\"@/components/ganttChart\"),\r\n    ControlBar: () => import(\"./ControlBar\"),\r\n  },\r\n  props: {\r\n    customFields: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    recordData: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    viewMetaData: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      const contentArea = (document || {}).getElementById(\r\n        \"content-area\"\r\n      ).clientHeight;\r\n      this.ChartHeight = contentArea ? contentArea - 150 : this.clientHeight;\r\n    });\r\n    this.verifyInitialDataForRendering();\r\n  },\r\n  data() {\r\n    return {\r\n      ChartHeight: 550,\r\n    };\r\n  },\r\n  computed: {\r\n    currentTime() {\r\n      return new Date().getTime();\r\n    },\r\n    groupByOptions() {\r\n      return (this.customFields || []).filter((f) => f.type === \"date\" || f.type === \"dateNoTz\");\r\n    },\r\n    customFieldsMap() {\r\n      return (this.customFields || []).reduce((acc, f) => {\r\n        acc[f.id] = f;\r\n        return acc;\r\n      }, {});\r\n    },\r\n    recordDataMap() {\r\n      const recordData = ((this.viewData || [])[0] || {}).records || [];\r\n      return recordData.reduce((acc, r) => {\r\n        const customFieldsData = ((r || {}).customFieldsData || []).reduce(\r\n          (acc, f) => {\r\n            acc[f.fieldId] = {\r\n              ...f,\r\n              ...this.customFieldsMap[f.fieldId],\r\n            };\r\n            return acc;\r\n          },\r\n          {}\r\n        );\r\n        acc[r.id] = {\r\n          ...customFieldsData,\r\n          ...r,\r\n        };\r\n        return acc;\r\n      }, {});\r\n    },\r\n    fieldFilteredRecords() {\r\n      const { id: filterFieldId } = this.dateCriteria || {};\r\n      const restObject = {};\r\n      let datesArray = [];\r\n      const recordDataMap = JSON.parse(\r\n        JSON.stringify(this.recordDataMap || {})\r\n      );\r\n      Object.keys(recordDataMap || {}).forEach(function (key, index) {\r\n        const fieldCheck = recordDataMap[key][filterFieldId];\r\n        if (fieldCheck) {\r\n          if (fieldCheck.type === \"date\") {\r\n            const { utcTimeOnly, utcDateOnly } = fieldCheck.dateValue || {};\r\n            if(utcDateOnly) {\r\n              const date =\r\n                utcDateOnly && utcTimeOnly\r\n                  ? dayjs(\r\n                    new Date(`${utcDateOnly}T${utcTimeOnly}:00.000Z`)\r\n                  ).format('YYYY-MM-DD')\r\n                  : utcDateOnly\r\n\r\n              datesArray.push(date)\r\n              restObject[key] = {\r\n                ...recordDataMap[key][filterFieldId],\r\n                start: dayjs(date).valueOf(),\r\n                end: dayjs(date).valueOf()\r\n              };\r\n            }\r\n          } else if (fieldCheck.type === \"dateNoTz\") {\r\n            const { localTimeOnly, localDateOnly } = fieldCheck.dateNoTzValue || {};\r\n            if(localDateOnly) {\r\n              const date =\r\n                localDateOnly && localTimeOnly\r\n                  ? dayjs(\r\n                    new Date(localDateOnly + ' ' + localTimeOnly)\r\n                  ).format('YYYY-MM-DD')\r\n                  : localDateOnly\r\n\r\n              datesArray.push(date)\r\n              restObject[key] = {\r\n                ...recordDataMap[key][filterFieldId],\r\n                start: dayjs(date).valueOf(),\r\n                end: dayjs(date).valueOf()\r\n              };\r\n            }\r\n          }\r\n        }\r\n      });\r\n      const uniqueDates = [...new Set(datesArray)];\r\n      const startDate = uniqueDates.sort()[0];\r\n      const endDate = uniqueDates.sort().reverse()[0];\r\n      const dateRange = [startDate, endDate];\r\n      return {\r\n        dateRange,\r\n        filteredRecords: restObject,\r\n      };\r\n    },\r\n    dateRange() {\r\n      return this.fieldFilteredRecords.dateRange;\r\n    },\r\n    chartData() {\r\n      return Object.keys(this.fieldFilteredRecords.filteredRecords).map(\r\n        (key) => {\r\n          return {\r\n            ...this.fieldFilteredRecords.filteredRecords[key],\r\n            recordId: key,\r\n          };\r\n        }\r\n      );\r\n    },\r\n    hasChartData() {\r\n      return (this.chartData || []).length > 0;\r\n    },\r\n    infoFieldToRender() {\r\n      const { columns } = (this.viewMetaData || {}).show || {};\r\n      const { customFieldId } =\r\n        (columns || []).find((c) => c.order === 1) || {};\r\n      if (customFieldId)\r\n        return this.customFields.find((f) => f.id === customFieldId);\r\n      return null;\r\n    },\r\n    dateCriteria() {\r\n      const { recordDatesForUi } = this.viewMetaData || {};\r\n      if(!recordDatesForUi) return null; // This line is needed \r\n      /**\r\n       * To ensure that the chart Ui is not rendered with the fallback date criteria,\r\n       * before the recordMetaData is received from BE, above line is needed\r\n       */\r\n      const { endDate, startDate } = recordDatesForUi || {};\r\n      const { customFieldId: startDateFieldID } = startDate || {};\r\n      const { customFieldId: endDateFieldID } = endDate || {};\r\n      if (startDateFieldID) {\r\n        const fieldSelected = this.groupByOptions.find((f) => f.id === startDateFieldID) || {};\r\n        return fieldSelected ? fieldSelected : this.groupByOptions[0] || null;\r\n      } else {\r\n        return this.groupByOptions[0] || null;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    viewMetaData: {\r\n      handler() {\r\n        this.verifyInitialDataForRendering();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    toggleDetailsView(recordId) {\r\n      this.$emit(\"toggleDetailsView\", recordId);\r\n    },\r\n    updateView(data) {\r\n      const payload = {\r\n        ganttMetaData: {\r\n          ...data,\r\n        },\r\n      };\r\n      this.$emit(\"updateView\", payload);\r\n    },\r\n    updateDateCriteria(selectedDateField, showColumData = null) { // Date criteria determines what date is the base of rendering in the chart \r\n      const { id : selectedDateCriteria } = selectedDateField || {};\r\n      const { recordDatesForUi } = this.viewMetaData || {};\r\n      const { endDate, startDate } = recordDatesForUi || {};\r\n      const { customFieldId: startDateFieldID } = startDate || {};\r\n      const { customFieldId: endDateFieldID } = endDate || {};\r\n      if (selectedDateCriteria !== startDateFieldID) {\r\n        //  || selectedDateCriteria !== endDateFieldID\r\n        const payload = {\r\n          ganttMetaData: {\r\n            ...this.viewMetaData,\r\n            recordDatesForUi: {\r\n              ...(this.viewMetaData.recordDatesForUi || {}),\r\n              startDate: {\r\n                customFieldId: selectedDateCriteria,\r\n              },\r\n              endDate: {\r\n                customFieldId: selectedDateCriteria,\r\n              },\r\n            },\r\n          },\r\n        };\r\n        if (showColumData) {\r\n          payload.ganttMetaData.show = showColumData;\r\n        }\r\n        this.$emit(\"updateView\", payload);\r\n      }\r\n    },\r\n    verifyInitialDataForRendering() {\r\n      let { recordDatesForUi, show } = this.viewMetaData || {};\r\n      const { endDate, startDate } = recordDatesForUi || {};\r\n      const { customFieldId: startDateFieldID } = startDate || {};\r\n      const { customFieldId: endDateFieldID } = endDate || {};\r\n\r\n      let appendShowColumData = false;\r\n      const { columns: columnDataToRender } = show || {};\r\n      if ((columnDataToRender || []).length == 0) {\r\n        show = {\r\n          columns: [\r\n            {\r\n              order: 1,\r\n              customFieldId: this.customFields[0].id,\r\n            },\r\n          ],\r\n        }\r\n        appendShowColumData = true;\r\n      }\r\n      /**\r\n       * startDateFieldID and endDateFieldID determines what date field to user for chart rendering\r\n       * If they are not returned from API, we will try to update it with the first date field available\r\n       * Incase not date fields are available, we will skip this step\r\n       */\r\n      if (!startDateFieldID) {\r\n        if (this.dateCriteria) {\r\n          if (appendShowColumData) { // This special case is to ensure show colum data is a;ways present\r\n          /** API was throwing error if we try to update date field with out show field */\r\n            this.updateDateCriteria(this.dateCriteria, show)\r\n          } else {\r\n            this.updateDateCriteria(this.dateCriteria);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.menu-gantt-view {\r\n  .gantt_side_content {\r\n    width: max-content;\r\n    min-width: max-content;\r\n    left: 100%;\r\n    position: absolute;\r\n    justify-content: center;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 2px 10px;\r\n  }\r\n}\r\n</style>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"menu-gantt-view\" },\n    [\n      _c(\n        \"ControlBar\",\n        {\n          attrs: {\n            viewName: \"gantt\",\n            selectedGroupBy: _vm.selectedGroupBy,\n            groupByOptions: _vm.groupByOptions,\n            viewMetaData: _vm.viewMetaData,\n            customFields: _vm.customFields,\n          },\n          on: {\n            updateView: _vm.updateView,\n            toggleDetailsView: _vm.toggleDetailsView,\n          },\n        },\n        [\n          (_vm.groupByOptions || []).length\n            ? _c(\n                \"div\",\n                { staticClass: \"group-by ml-2\" },\n                [\n                  _c(\n                    \"vs-dropdown\",\n                    { attrs: { \"vs-trigger-click\": \"\" } },\n                    [\n                      _c(\n                        \"vs-button\",\n                        {\n                          staticClass: \"btn-drop cursor-pointer\",\n                          attrs: {\n                            color: \"primary\",\n                            icon: \"expand_more\",\n                            size: \"small\",\n                            \"icon-after\": \"\",\n                          },\n                        },\n                        [\n                          _c(\"span\", [_vm._v(\" Dates Criteria \")]),\n                          _vm._v(\" \"),\n                          (_vm.dateCriteria || {}).name\n                            ? _c(\"span\", [\n                                _vm._v(\n                                  \"\\n            : \" +\n                                    _vm._s(_vm.dateCriteria.name) +\n                                    \"\\n          \"\n                                ),\n                              ])\n                            : _vm._e(),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"vs-dropdown-menu\",\n                        _vm._l(_vm.groupByOptions, function (item) {\n                          return _c(\n                            \"vs-dropdown-item\",\n                            {\n                              key: item.id,\n                              attrs: { disabled: item.isDisabled },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.updateDateCriteria(item)\n                                },\n                              },\n                            },\n                            [\n                              _vm._v(\n                                \"\\n            \" +\n                                  _vm._s(item.name) +\n                                  \"\\n          \"\n                              ),\n                            ]\n                          )\n                        }),\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"GanttChart\", {\n        key: _vm.dateRange.join(\"-\"),\n        staticClass: \"mt-4\",\n        attrs: {\n          \"gantt-data\": _vm.chartData,\n          \"time-section\": _vm.dateRange,\n          \"chart-max-height\": _vm.ChartHeight,\n          showSideBar: false,\n          dateHourModeDayCount: 0,\n        },\n        on: {\n          onClickBar: function ($event) {\n            return _vm.toggleDetailsView($event.recordId)\n          },\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"container-box\",\n            fn: function ({ item }) {\n              return [\n                typeof item === \"object\" && _vm.infoFieldToRender\n                  ? _c(\n                      \"div\",\n                      { staticClass: \"gantt_side_content text-primary\" },\n                      [\n                        _vm._v(\n                          \"\\n        \" +\n                            _vm._s(\n                              _vm.recordDataMap[item.recordId][\n                                _vm.infoFieldToRender.id\n                              ].textValue\n                            ) +\n                            \"\\n      \"\n                        ),\n                      ]\n                    )\n                  : _vm._e(),\n              ]\n            },\n          },\n        ]),\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".menu-gantt-view .gantt_side_content[data-v-ca5dfe6a] {\\n  width: -moz-max-content;\\n  width: max-content;\\n  min-width: -moz-max-content;\\n  min-width: max-content;\\n  position: absolute;\\n  justify-content: center;\\n  display: flex;\\n  align-items: center;\\n}[dir] .menu-gantt-view .gantt_side_content[data-v-ca5dfe6a] {\\n  padding: 2px 10px;\\n}[dir=ltr] .menu-gantt-view .gantt_side_content[data-v-ca5dfe6a] {\\n  left: 100%;\\n}[dir=rtl] .menu-gantt-view .gantt_side_content[data-v-ca5dfe6a] {\\n  right: 100%;\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=style&index=0&id=ca5dfe6a&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=style&index=0&id=ca5dfe6a&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=style&index=0&id=ca5dfe6a&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./GanttView.vue?vue&type=template&id=ca5dfe6a&scoped=true&\"\nimport script from \"./GanttView.vue?vue&type=script&lang=js&\"\nexport * from \"./GanttView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GanttView.vue?vue&type=style&index=0&id=ca5dfe6a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca5dfe6a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\laragon\\\\www\\\\ezpapel\\\\panel\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ca5dfe6a')) {\n      api.createRecord('ca5dfe6a', component.options)\n    } else {\n      api.reload('ca5dfe6a', component.options)\n    }\n    module.hot.accept(\"./GanttView.vue?vue&type=template&id=ca5dfe6a&scoped=true&\", function () {\n      api.rerender('ca5dfe6a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/views/pages/menu/components/GanttView.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../node_modules/style-loader/index.js!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/lib/index.js??ref--8-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=style&index=0&id=ca5dfe6a&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GanttView.vue?vue&type=template&id=ca5dfe6a&scoped=true&\""],"sourceRoot":""}