<template>
  <div
    class="st-Email"
    style="
      border: 0 !important;
      margin: 0 !important;
      padding: 0;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
      min-width: 100%;
      width: 100%;
      outline: 0 !important;
      text-decoration: none !important;
    "
    override="fix"
  >
    <!-- Background -->
    <table
      class="st-Background"
      bgcolor="#525f7f"
      border="0"
      cellpadding="0"
      cellspacing="0"
      width="100%"
      style="border: 0; margin: 0; padding: 0"
    >
      <tbody>
        <tr>
          <td
            style="
              border: 0 !important;
              margin: 0 !important;
              outline: 0 !important;
              text-decoration: none !important;
              -webkit-font-smoothing: antialiased !important;
              -moz-osx-font-smoothing: grayscale !important;
            "
          >
            <!-- Wrapper -->
            <table
              class="st-Wrapper"
              align="center"
              border="0"
              cellpadding="0"
              cellspacing="0"
              style="
                width: 440px;
                min-width: 440px;
                max-width: 440px;
                margin: 50px auto;
              "
            >
              <tbody>
                <tr>
                  <td
                    style="
                      border: 0 !important;
                      margin: 0 !important;
                      outline: 0 !important;
                      text-decoration: none !important;
                      -webkit-font-smoothing: antialiased !important;
                      -moz-osx-font-smoothing: grayscale !important;
                    "
                  >
                    <table
                      class="st-Preheader st-Width st-Width--mobile"
                      border="0"
                      cellpadding="0"
                      cellspacing="0"
                      width="440"
                      style="min-width: 440px"
                    >
                      <tbody>
                        <tr>
                          <td
                            align="center"
                            height="0"
                            style="
                              border: 0 !important;
                              margin: 0 !important;
                              padding: 0;
                              color: #ffffff;
                              display: none !important;
                              font-size: 1px;
                              line-height: 1px;
                              max-height: 0;
                              max-width: 0;
                              mso-hide: all !important;
                              opacity: 0;
                              overflow: hidden;
                              visibility: hidden;
                              outline: 0 !important;
                              text-decoration: none !important;
                              -webkit-font-smoothing: antialiased !important;
                              -moz-osx-font-smoothing: grayscale !important;
                            "
                          >
                            <span
                              class="st-Delink st-Delink--preheader"
                              style="
                                color: #ffffff;
                                text-decoration: none;
                                border: 0 !important;
                                margin: 0 !important;
                                outline: 0 !important;
                                -webkit-font-smoothing: antialiased !important;
                                -moz-osx-font-smoothing: grayscale !important;
                              "
                            >
                            </span>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <table cellpadding="0" cellspacing="0" style="width: 100%">
                      <tbody>
                        <tr>
                          <td
                            align=""
                            style="
                              border: 0 !important;
                              border-collapse: collapse;
                              margin: 0 !important;
                              padding: 0;
                              width: 482px;
                              border-radius: 12px;
                              box-shadow: 0 2px 5px 0 rgb(50 50 93 / 10%),
                                0 1px 1px 0 rgb(0 0 0 / 7%);
                              outline: 0 !important;
                              text-decoration: none !important;
                              -webkit-font-smoothing: antialiased !important;
                              -moz-osx-font-smoothing: grayscale !important;
                            "
                          >
                            <table
                              cellpadding="0"
                              cellspacing="0"
                              style="width: 100%"
                            >
                              <tbody>
                                <tr>
                                  <td
                                    align=""
                                    style="
                                      border: 0 !important;
                                      border-collapse: collapse;
                                      margin: 0 !important;
                                      padding: 1px;
                                      width: 482px;
                                      border-radius: 12px;
                                      background-color: #e3e8ee;
                                      outline: 0 !important;
                                      text-decoration: none !important;
                                      -webkit-font-smoothing: antialiased !important;
                                      -moz-osx-font-smoothing: grayscale !important;
                                    "
                                  >
                                    <table
                                      cellpadding="0"
                                      cellspacing="0"
                                      style="
                                        width: 100%;
                                        background-color: #ffffff;
                                        border-radius: 12px;
                                      "
                                    >
                                      <tbody>
                                        <tr>
                                          <td
                                            style="
                                              border: 0 !important;
                                              border-collapse: collapse;
                                              margin: 0 !important;
                                              padding: 0;
                                              outline: 0 !important;
                                              text-decoration: none !important;
                                              -webkit-font-smoothing: antialiased !important;
                                              -moz-osx-font-smoothing: grayscale !important;
                                            "
                                          >
                                            <table
                                              class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                              border="0"
                                              cellpadding="0"
                                              cellspacing="0"
                                              width="100%"
                                            >
                                              <tbody>
                                                <tr>
                                                  <td
                                                    height="32"
                                                    style="
                                                      border: 0 !important;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      font-size: 1px;
                                                      line-height: 1px;
                                                      max-height: 1px;
                                                      mso-line-height-rule: exactly;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    <div
                                                      class="st-Spacer st-Spacer--filler"
                                                    >
                                                      Â 
                                                    </div>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>

                                            <table
                                              cellpadding="0"
                                              cellspacing="0"
                                              style="width: 100%"
                                            >
                                              <tbody>
                                                <tr>
                                                  <td
                                                    style="
                                                      border: 0 !important;
                                                      border-collapse: collapse;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      min-width: 32px;
                                                      width: 32px;
                                                      font-size: 1px;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    Â 
                                                  </td>

                                                  <td
                                                    style="
                                                      border: 0 !important;
                                                      border-collapse: collapse;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    <table
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              width: 100%;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              v-if="invoice"
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      padding-bottom: 2px;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #7a7a7a;
                                                                        font-size: 14px;
                                                                        line-height: 20px;
                                                                        font-weight: 500;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      Invoice
                                                                      from
                                                                      {{
                                                                        companyDetails.companyName
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>

                                                            <table
                                                              v-if="invoice"
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      padding-bottom: 2px;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 36px;
                                                                        line-height: 40px;
                                                                        font-weight: 600;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        invoiceTotal
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>

                                                            <table
                                                              v-if="invoice"
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #7a7a7a;
                                                                        font-size: 14px;
                                                                        line-height: 24px;
                                                                        font-weight: 500;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      Due
                                                                      {{
                                                                        dueDate ||
                                                                        ""
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>

                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    colspan="1"
                                                                    height="16"
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      height: 16px;
                                                                      font-size: 1px;
                                                                      line-height: 1px;
                                                                      mso-line-height-rule: exactly;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    Â 
                                                                  </td>
                                                                </tr>

                                                                <tr>
                                                                  <td
                                                                    height="1"
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      height: 1px;
                                                                      font-size: 1px;
                                                                      background-color: #ebebeb;
                                                                      line-height: 1px;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    Â 
                                                                  </td>
                                                                </tr>

                                                                <tr>
                                                                  <td
                                                                    colspan="1"
                                                                    height="12"
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      height: 12px;
                                                                      font-size: 1px;
                                                                      line-height: 1px;
                                                                      mso-line-height-rule: exactly;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    Â 
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            v-if="
                                                              companyDetails.companyLogo
                                                            "
                                                            style="
                                                              display: flex;
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              /* width: 76px; */
                                                              /* max-width: 76px; */
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <img
                                                              :src="
                                                                companyDetails.companyLogo
                                                              "
                                                              style="
                                                                border: 0;
                                                                margin: 1px 10px;
                                                                padding: 0;
                                                                display: block;
                                                                border-radius: 8px;
                                                                object-fit: contain;
                                                                height: 75px;
                                                                width: 75px;
                                                              "
                                                              alt="invoice illustration"
                                                            />
                                                          </td>
                                                          <td
                                                            v-else
                                                            style="
                                                              border: 0px !important;
                                                              border-collapse: collapse;
                                                              margin: 0px !important;
                                                              padding: 0px;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0px !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                            "
                                                          />
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <!-- <table
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            align=""
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              width: 100%;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <a
                                                              style="
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                padding: 0;
                                                                text-decoration: none;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                              href="https://pay.stripe.com/invoice/acct_1MWxXXA9tF7ON0jm/test_YWNjdF8xTVd4WFhBOXRGN09OMGptLF9OSFhjSTZyZGtqdjJ4Q3llQUxCRzdhclBvcWUyUmNhLDY1ODc0Nzc20200JLh69QQm/pdf?s=em"
                                                            >
                                                              <img
                                                                src="https://stripe-images.s3.amazonaws.com/emails/invoices_arrow_down.png"
                                                                height="12"
                                                                width="12"
                                                                style="
                                                                  border: 0;
                                                                  line-height: 100%;
                                                                  margin-right: 4px;
                                                                  position: relative;
                                                                  top: 1px;
                                                                "
                                                              />
                                                              <span
                                                                style="
                                                                  font-family: -apple-system,
                                                                    BlinkMacSystemFont,
                                                                    'Segoe UI',
                                                                    Roboto,
                                                                    'Helvetica Neue',
                                                                    Ubuntu,
                                                                    sans-serif;
                                                                  text-decoration: none;
                                                                  color: #7a7a7a;
                                                                  font-size: 14px;
                                                                  line-height: 16px;
                                                                  font-weight: 500;
                                                                  border: 0 !important;
                                                                  margin: 0 !important;
                                                                  outline: 0 !important;
                                                                  -webkit-font-smoothing: antialiased !important;
                                                                  -moz-osx-font-smoothing: grayscale !important;
                                                                "
                                                              >
                                                                Download invoice
                                                              </span>
                                                            </a>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table> -->

                                                    <!-- <table
                                                      class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                                      border="0"
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      width="100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            height="32"
                                                            style="
                                                              border: 0 !important;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              max-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <div
                                                              class="st-Spacer st-Spacer--filler"
                                                            >
                                                              Â 
                                                            </div>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table> -->

                                                    <table
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style=""
                                                    >
                                                      <tbody>
                                                        <tr v-if="invoice">
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              vertical-align: top;
                                                              white-space: nowrap;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <span
                                                              style="
                                                                font-family: -apple-system,
                                                                  BlinkMacSystemFont,
                                                                  'Segoe UI',
                                                                  Roboto,
                                                                  'Helvetica Neue',
                                                                  Ubuntu,
                                                                  sans-serif;
                                                                text-decoration: none;
                                                                color: #7a7a7a;
                                                                font-size: 14px;
                                                                line-height: 16px;
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                            >
                                                              To
                                                            </span>
                                                          </td>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              width: 24px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <span
                                                              style="
                                                                font-family: -apple-system,
                                                                  BlinkMacSystemFont,
                                                                  'Segoe UI',
                                                                  Roboto,
                                                                  'Helvetica Neue',
                                                                  Ubuntu,
                                                                  sans-serif;
                                                                text-decoration: none;
                                                                color: #1a1a1a;
                                                                font-size: 14px;
                                                                line-height: 16px;
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                            >
                                                              {{
                                                                invoice.customer &&
                                                                invoice.customer
                                                                  .company_name
                                                                  ? invoice
                                                                      .customer
                                                                      .company_name
                                                                  : ""
                                                              }}
                                                            </span>
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            colspan="2"
                                                            height="8"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 8px;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr v-if="invoice">
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              vertical-align: top;
                                                              white-space: nowrap;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <span
                                                              style="
                                                                font-family: -apple-system,
                                                                  BlinkMacSystemFont,
                                                                  'Segoe UI',
                                                                  Roboto,
                                                                  'Helvetica Neue',
                                                                  Ubuntu,
                                                                  sans-serif;
                                                                text-decoration: none;
                                                                color: #7a7a7a;
                                                                font-size: 14px;
                                                                line-height: 16px;
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                            >
                                                              From
                                                            </span>
                                                          </td>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              width: 24px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <span
                                                              style="
                                                                font-family: -apple-system,
                                                                  BlinkMacSystemFont,
                                                                  'Segoe UI',
                                                                  Roboto,
                                                                  'Helvetica Neue',
                                                                  Ubuntu,
                                                                  sans-serif;
                                                                text-decoration: none;
                                                                color: #1a1a1a;
                                                                font-size: 14px;
                                                                line-height: 16px;
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                            >
                                                              {{
                                                                companyDetails.companyName
                                                              }}
                                                            </span>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <table
                                                      class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                                      border="0"
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      width="100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            height="24"
                                                            style="
                                                              border: 0 !important;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              max-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <div
                                                              class="st-Spacer st-Spacer--filler"
                                                            >
                                                              Â 
                                                            </div>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>

                                            <table
                                              class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                              border="0"
                                              cellpadding="0"
                                              cellspacing="0"
                                              width="100%"
                                            >
                                              <tbody>
                                                <tr>
                                                  <td
                                                    height="24"
                                                    style="
                                                      border: 0 !important;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      font-size: 1px;
                                                      line-height: 1px;
                                                      max-height: 1px;
                                                      mso-line-height-rule: exactly;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    <div
                                                      class="st-Spacer st-Spacer--filler"
                                                    >
                                                      Â 
                                                    </div>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <table
                      class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                      border="0"
                      cellpadding="0"
                      cellspacing="0"
                      width="100%"
                    >
                      <tbody>
                        <tr>
                          <td
                            height="20"
                            style="
                              border: 0 !important;
                              margin: 0 !important;
                              padding: 0;
                              font-size: 1px;
                              line-height: 1px;
                              max-height: 1px;
                              mso-line-height-rule: exactly;
                              outline: 0 !important;
                              text-decoration: none !important;
                              -webkit-font-smoothing: antialiased !important;
                              -moz-osx-font-smoothing: grayscale !important;
                            "
                          >
                            <div class="st-Spacer st-Spacer--filler">Â </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <table cellpadding="0" cellspacing="0" style="width: 100%">
                      <tbody>
                        <tr>
                          <td
                            align=""
                            style="
                              border: 0 !important;
                              border-collapse: collapse;
                              margin: 0 !important;
                              padding: 0;
                              width: 482px;
                              border-radius: 12px;
                              box-shadow: 0 2px 5px 0 rgb(50 50 93 / 10%),
                                0 1px 1px 0 rgb(0 0 0 / 7%);
                              outline: 0 !important;
                              text-decoration: none !important;
                              -webkit-font-smoothing: antialiased !important;
                              -moz-osx-font-smoothing: grayscale !important;
                            "
                          >
                            <table
                              cellpadding="0"
                              cellspacing="0"
                              style="width: 100%"
                            >
                              <tbody>
                                <tr>
                                  <td
                                    align=""
                                    style="
                                      border: 0 !important;
                                      border-collapse: collapse;
                                      margin: 0 !important;
                                      padding: 1px;
                                      width: 482px;
                                      border-radius: 12px;
                                      background-color: #e3e8ee;
                                      outline: 0 !important;
                                      text-decoration: none !important;
                                      -webkit-font-smoothing: antialiased !important;
                                      -moz-osx-font-smoothing: grayscale !important;
                                    "
                                  >
                                    <table
                                      cellpadding="0"
                                      cellspacing="0"
                                      style="
                                        width: 100%;
                                        background-color: #ffffff;
                                        border-radius: 12px;
                                      "
                                    >
                                      <tbody>
                                        <tr>
                                          <td
                                            style="
                                              border: 0 !important;
                                              border-collapse: collapse;
                                              margin: 0 !important;
                                              padding: 0;
                                              outline: 0 !important;
                                              text-decoration: none !important;
                                              -webkit-font-smoothing: antialiased !important;
                                              -moz-osx-font-smoothing: grayscale !important;
                                            "
                                          >
                                            <table
                                              class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                              border="0"
                                              cellpadding="0"
                                              cellspacing="0"
                                              width="100%"
                                            >
                                              <tbody>
                                                <tr>
                                                  <td
                                                    height="32"
                                                    style="
                                                      border: 0 !important;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      font-size: 1px;
                                                      line-height: 1px;
                                                      max-height: 1px;
                                                      mso-line-height-rule: exactly;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    <div
                                                      class="st-Spacer st-Spacer--filler"
                                                    >
                                                      Â 
                                                    </div>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>

                                            <table
                                              cellpadding="0"
                                              cellspacing="0"
                                              style="width: 100%"
                                            >
                                              <tbody>
                                                <tr>
                                                  <td
                                                    style="
                                                      border: 0 !important;
                                                      border-collapse: collapse;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    <table
                                                      v-if="
                                                        invoice &&
                                                        invoice.invoiceNumber
                                                      "
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                          <td
                                                            nowrap
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              width: 100%;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <span
                                                              style="
                                                                font-family: -apple-system,
                                                                  BlinkMacSystemFont,
                                                                  'Segoe UI',
                                                                  Roboto,
                                                                  'Helvetica Neue',
                                                                  Ubuntu,
                                                                  sans-serif;
                                                                text-decoration: none;
                                                                color: #7a7a7a;
                                                                font-size: 14px;
                                                                line-height: 20px;
                                                                font-weight: 500;
                                                                white-space: nowrap;
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                            >
                                                              Invoice #{{
                                                                invoice.invoiceNumber
                                                              }}
                                                            </span>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <table
                                                      class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                                      border="0"
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      width="100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            height="26"
                                                            style="
                                                              border: 0 !important;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              max-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <div
                                                              class="st-Spacer st-Spacer--filler"
                                                            >
                                                              Â 
                                                            </div>
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <table
                                                      v-for="(
                                                        item, index
                                                      ) in invoice.items"
                                                      :key="index"
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              padding-left: 0px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        word-break: break-word;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        item.name
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>

                                                            <table
                                                              class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                                              border="0"
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              width="100%"
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    height="3"
                                                                    style="
                                                                      border: 0 !important;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      font-size: 1px;
                                                                      line-height: 1px;
                                                                      max-height: 1px;
                                                                      mso-line-height-rule: exactly;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <div
                                                                      class="st-Spacer st-Spacer--filler"
                                                                    >
                                                                      Â 
                                                                    </div>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #999999;
                                                                        font-size: 12px;
                                                                        line-height: 14px;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      Qty
                                                                      {{
                                                                        parseFloat(
                                                                          item.qty
                                                                        )
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 16px;
                                                              width: 16px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            align="right"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              text-align: right;
                                                              vertical-align: top;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align="right"
                                                                    nowrap
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        white-space: nowrap;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        formatAmountValue(
                                                                          Number(
                                                                            item.rate
                                                                          ) *
                                                                            parseFloat(
                                                                              item.qty
                                                                            )
                                                                        )
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                            <table
                                                              v-if="
                                                                parseFloat(
                                                                  item.qty
                                                                ) > 1
                                                              "
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align="right"
                                                                    nowrap=""
                                                                    style="
                                                                      border: 0;
                                                                      border-collapse: collapse;
                                                                      margin: 0;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #999999;
                                                                        font-size: 12px;
                                                                        line-height: 14px;
                                                                      "
                                                                    >
                                                                      ${{
                                                                        formatRate(
                                                                          item.rate
                                                                        )
                                                                      }}
                                                                      each
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            colspan="5"
                                                            height="0"
                                                            style="
                                                              border: 0;
                                                              border-collapse: collapse;
                                                              margin: 0;
                                                              padding: 0;
                                                              height: 24px;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <table
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            height="1"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 1px;
                                                              font-size: 1px;
                                                              background-color: #ebebeb;
                                                              line-height: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            colspan="3"
                                                            height="16"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 16px;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <table
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              padding-left: 0px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        word-break: break-word;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      Subtotal
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 16px;
                                                              width: 16px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            align="right"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              text-align: right;
                                                              vertical-align: top;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align="right"
                                                                    nowrap
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        white-space: nowrap;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        subtotal()
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr
                                                          v-for="(
                                                            item, index
                                                          ) in invoice.customFields"
                                                          :key="`${item.fieldId}-${index}`"
                                                        >
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              padding-left: 0px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        word-break: break-word;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        getOptionNameFromFieldId(
                                                                          item.fieldId
                                                                        )
                                                                      }}
                                                                      {{
                                                                        item.percentage !=
                                                                          null &&
                                                                        item.percentage !=
                                                                          ""
                                                                          ? "("
                                                                          : ""
                                                                      }}
                                                                      {{
                                                                        item.percentage !=
                                                                          null &&
                                                                        item.percentage !=
                                                                          ""
                                                                          ? item.percentage
                                                                          : ""
                                                                      }}
                                                                      {{
                                                                        item.percentage !=
                                                                          null &&
                                                                        item.percentage !=
                                                                          ""
                                                                          ? "% of Subtotal"
                                                                          : ""
                                                                      }}{{
                                                                        item.percentage !=
                                                                          null &&
                                                                        item.percentage !=
                                                                          ""
                                                                          ? ")"
                                                                          : ""
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 16px;
                                                              width: 16px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            align="right"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              text-align: right;
                                                              vertical-align: top;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align="right"
                                                                    nowrap
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        white-space: nowrap;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        formatAmountValue(
                                                                          Number(
                                                                            item.payment
                                                                          ).toFixed(
                                                                            2
                                                                          )
                                                                        )
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              padding-left: 0px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align=""
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        word-break: break-word;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      Amount due
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 16px;
                                                              width: 16px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            align="right"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              text-align: right;
                                                              vertical-align: top;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            <table
                                                              cellpadding="0"
                                                              cellspacing="0"
                                                              style="
                                                                width: 100%;
                                                              "
                                                            >
                                                              <tbody>
                                                                <tr>
                                                                  <td
                                                                    align="right"
                                                                    nowrap
                                                                    style="
                                                                      border: 0 !important;
                                                                      border-collapse: collapse;
                                                                      margin: 0 !important;
                                                                      padding: 0;
                                                                      width: 100%;
                                                                      outline: 0 !important;
                                                                      text-decoration: none !important;
                                                                      -webkit-font-smoothing: antialiased !important;
                                                                      -moz-osx-font-smoothing: grayscale !important;
                                                                    "
                                                                  >
                                                                    <span
                                                                      style="
                                                                        font-family: -apple-system,
                                                                          BlinkMacSystemFont,
                                                                          'Segoe UI',
                                                                          Roboto,
                                                                          'Helvetica Neue',
                                                                          Ubuntu,
                                                                          sans-serif;
                                                                        text-decoration: none;
                                                                        color: #1a1a1a;
                                                                        font-size: 14px;
                                                                        line-height: 16px;
                                                                        font-weight: 500;
                                                                        white-space: nowrap;
                                                                        border: 0 !important;
                                                                        margin: 0 !important;
                                                                        outline: 0 !important;
                                                                        -webkit-font-smoothing: antialiased !important;
                                                                        -moz-osx-font-smoothing: grayscale !important;
                                                                      "
                                                                    >
                                                                      {{
                                                                        invoiceTotal
                                                                      }}
                                                                    </span>
                                                                  </td>
                                                                </tr>
                                                              </tbody>
                                                            </table>
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            colspan="5"
                                                            height="0"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 0px;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <table
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            colspan="3"
                                                            height="16"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 16px;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            height="1"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 1px;
                                                              font-size: 1px;
                                                              background-color: #ebebeb;
                                                              line-height: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>

                                                        <tr>
                                                          <td
                                                            colspan="3"
                                                            height="20"
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              height: 20px;
                                                              font-size: 1px;
                                                              line-height: 1px;
                                                              mso-line-height-rule: exactly;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>

                                                    <div
                                                      v-if="
                                                        invoice && invoice.notes
                                                      "
                                                    >
                                                      <div
                                                        class="mb-2 margin-x-32"
                                                      >
                                                        <div
                                                          class="font-medium"
                                                        >
                                                          Notes
                                                        </div>
                                                        <div>
                                                          <span
                                                            class="break-all"
                                                            v-html="
                                                              invoice.notes
                                                            "
                                                          />
                                                        </div>
                                                      </div>
                                                      <div
                                                        class="notes-border-bottom margin-x-32 my-2"
                                                      />
                                                    </div>

                                                    <table
                                                      v-if="
                                                        companyDetails.companyEmail
                                                      "
                                                      cellpadding="0"
                                                      cellspacing="0"
                                                      style="width: 100%"
                                                    >
                                                      <tbody>
                                                        <tr>
                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              font-family: -apple-system,
                                                                BlinkMacSystemFont,
                                                                'Segoe UI',
                                                                Roboto,
                                                                'Helvetica Neue',
                                                                Ubuntu,
                                                                sans-serif;
                                                              font-size: 14px;
                                                              line-height: 16px;
                                                              color: #999999;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Questions? Contact
                                                            us at
                                                            <a
                                                              style="
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                padding: 0;
                                                                color: #625afa !important;
                                                                font-weight: bold;
                                                                text-decoration: none;
                                                                white-space: nowrap;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                              :href="`mailto:${companyDetails.companyEmail}`"
                                                            >
                                                              {{
                                                                companyDetails.companyEmail
                                                              }}
                                                            </a>
                                                            {{
                                                              companyDetails.companyPhoneNumber
                                                                ? "or call us at"
                                                                : ""
                                                            }}
                                                            <a
                                                              v-if="
                                                                companyDetails.companyPhoneNumber
                                                              "
                                                              style="
                                                                border: 0 !important;
                                                                margin: 0 !important;
                                                                padding: 0;
                                                                color: #625afa !important;
                                                                font-weight: bold;
                                                                text-decoration: none;
                                                                white-space: nowrap;
                                                                outline: 0 !important;
                                                                -webkit-font-smoothing: antialiased !important;
                                                                -moz-osx-font-smoothing: grayscale !important;
                                                              "
                                                              :href="`tel:${companyDetails.companyPhoneNumber}`"
                                                            >
                                                              {{
                                                                companyDetails.companyPhoneNumber
                                                              }}
                                                            </a>
                                                            .
                                                          </td>

                                                          <td
                                                            style="
                                                              border: 0 !important;
                                                              border-collapse: collapse;
                                                              margin: 0 !important;
                                                              padding: 0;
                                                              min-width: 32px;
                                                              width: 32px;
                                                              font-size: 1px;
                                                              outline: 0 !important;
                                                              text-decoration: none !important;
                                                              -webkit-font-smoothing: antialiased !important;
                                                              -moz-osx-font-smoothing: grayscale !important;
                                                            "
                                                          >
                                                            Â 
                                                          </td>
                                                        </tr>
                                                      </tbody>
                                                    </table>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>

                                            <table
                                              class="st-Spacer st-Spacer--standalone st-Width st-Width--mobile"
                                              border="0"
                                              cellpadding="0"
                                              cellspacing="0"
                                              width="100%"
                                            >
                                              <tbody>
                                                <tr>
                                                  <td
                                                    height="24"
                                                    style="
                                                      border: 0 !important;
                                                      margin: 0 !important;
                                                      padding: 0;
                                                      font-size: 1px;
                                                      line-height: 1px;
                                                      max-height: 1px;
                                                      mso-line-height-rule: exactly;
                                                      outline: 0 !important;
                                                      text-decoration: none !important;
                                                      -webkit-font-smoothing: antialiased !important;
                                                      -moz-osx-font-smoothing: grayscale !important;
                                                    "
                                                  >
                                                    <div
                                                      class="st-Spacer st-Spacer--filler"
                                                    >
                                                      Â 
                                                    </div>
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- /Background -->
  </div>
</template>
<!-- eslint-disable nonblock-statement-body-position -->
<script>
import { mapGetters } from "vuex";
import { formatAmount } from "@/helpers/helper";

export default {
  name: "EmailInvoice",
  props: {
    invoice: {
      type: Object,
      required: true,
    },
    customFieldsPaymentOptions: {
      type: Array,
      default: () => [],
    },
  },
  computed: {
    ...mapGetters("auth", ["user"]),

    invoiceTotal() {
      let total = 0;

      if (this.invoice && this.invoice.items)
        this.invoice.items.forEach((item) => {
          total += Number(item.rate) * parseFloat(item.qty) || 0;
        });

      if (this.invoice && this.invoice.customFields)
        this.invoice.customFields.forEach((item) => {
          // if (item.percentage != null || item.isPercentage) {
          //   total = total + this.calculatePercentage(Number(item.percentage));
          // } else {
          total = total + Number(item.payment) || 0;
          // }
        });

      return this.formatAmountValue(Number(total).toFixed(2));
    },

    dueDate() {
      const date = (this.invoice || {}).dueDate || null;
      return date ? this.convertToMonthFormat(date) : null;
    },
    companyDetails() {
      const companyDetails = {
        companyLogo: null,
        companyName: null,
        companyEmail: null,
        companyPhoneNumber: null,
      };

      if (this.user && this.user.admin_company_details) {
        companyDetails.companyLogo =
          this.user.admin_company_details.company_image_url || null;
        companyDetails.companyName =
          this.user.admin_company_details.business_name || null;
        companyDetails.companyEmail =
          this.user.admin_company_details.email || null;
        companyDetails.companyPhoneNumber =
          this.user.admin_company_details.phone_number || null;
      }

      return companyDetails;
    },
  },
  data() {
    return {};
  },
  methods: {
    calculatePercentage(percentage) {
      if (percentage) {
        return Number(this.subtotal().split("$")[1]) * (percentage / 100);
      }
      return null;
    },
    subtotal() {
      let total = 0;

      if (this.invoice && this.invoice.items)
        this.invoice.items.forEach((item) => {
          total += Number(item.rate) * Number(item.qty) || 0;
        });

      return this.formatAmountValue(Number(total).toFixed(2));
    },
    getOptionNameFromFieldId(fieldId) {
      const option = this.customFieldsPaymentOptions.filter((ele) => {
        if (ele.fieldId === fieldId) {
          return ele;
        }
      });
      if (option.length > 0) {
        return option[0].name;
      }
      return "";
    },
    formatRate(rate) {
      const decimals = rate.toString().split(".")[1];
      const result = decimals && decimals.length > 2 ? parseFloat(rate) : rate;

      return Number(result).toLocaleString("en-US", {
        minimumFractionDigits: 2,
      });
    },
    formatAmountValue(amount) {
      return formatAmount(amount);
    },
    convertToMonthFormat(dueDate) {
      // TODO: THIS IS NOT CORRECT! It does not work in Asia.
      const date = new Date(
        new Date(dueDate).setDate(new Date(dueDate).getDate() + 1)
      );
      const month = date.toLocaleString("default", { month: "long" });
      const day = date.toLocaleString("default", { day: "2-digit" });
      const year = date.toLocaleString("default", { year: "numeric" });
      return `${month} ${day}, ${year}`;
    },
  },
};
</script>
<style lang="scss" scoped>
// Utility classes
.margin-x-32 {
  margin-left: 32px;
  margin-right: 32px;
}

.notes-border-bottom {
  border-collapse: collapse;
  height: 1px;
  font-size: 1px;
  background-color: rgb(235, 235, 235);
  line-height: 1px;
}
</style>
